"use strict";(()=>{var La=Object.create;var en=Object.defineProperty;var Ca=Object.getOwnPropertyDescriptor;var Ia=Object.getOwnPropertyNames;var xa=Object.getPrototypeOf,Da=Object.prototype.hasOwnProperty;var ya=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var ba=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Ia(r))!Da.call(e,o)&&o!==t&&en(e,o,{get:()=>r[o],enumerable:!(n=Ca(r,o))||n.enumerable});return e};var Ua=(e,r,t)=>(t=e!=null?La(xa(e)):{},ba(r||!e||!e.__esModule?en(t,"default",{value:e,enumerable:!0}):t,e));var zo=ya((Ze,yt)=>{(function(e,r){if(typeof Ze=="object"&&typeof yt=="object")yt.exports=r();else if(typeof define=="function"&&define.amd)define([],r);else{var t=r();for(var n in t)(typeof Ze=="object"?Ze:e)[n]=t[n]}})(Ze,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(n,o,a){t.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:a})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,o){if(1&o&&(n=t(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var i in n)t.d(a,i,function(s){return n[s]}.bind(null,i));return a},t.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(o,"a",o),o},t.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";var n,o,a=t(1)(),i=t(3),s=t(4),_=t(6),u=function(){var E=new s;return n=E.getResult(),o=new _,this};u.prototype={getSoftwareVersion:function(){return"0.1.11"},getBrowserData:function(){return n},getFingerprint:function(){var E="|",T=n.ua,p=this.getScreenPrint(),S=this.getPlugins(),c=this.getFonts(),C=this.isLocalStorage(),F=this.isSessionStorage(),f=this.getTimeZone(),A=this.getLanguage(),D=this.getSystemLanguage(),Q=this.isCookie(),Oe=this.getCanvasPrint();return i(T+E+p+E+S+E+c+E+C+E+F+E+f+E+A+E+D+E+Q+E+Oe,256)},getCustomFingerprint:function(){for(var E="|",T="",p=0;p<arguments.length;p++)T+=arguments[p]+E;return i(T,256)},getUserAgent:function(){return n.ua},getUserAgentLowerCase:function(){return n.ua.toLowerCase()},getBrowser:function(){return n.browser.name},getBrowserVersion:function(){return n.browser.version},getBrowserMajorVersion:function(){return n.browser.major},isIE:function(){return/IE/i.test(n.browser.name)},isChrome:function(){return/Chrome/i.test(n.browser.name)},isFirefox:function(){return/Firefox/i.test(n.browser.name)},isSafari:function(){return/Safari/i.test(n.browser.name)},isMobileSafari:function(){return/Mobile\sSafari/i.test(n.browser.name)},isOpera:function(){return/Opera/i.test(n.browser.name)},getEngine:function(){return n.engine.name},getEngineVersion:function(){return n.engine.version},getOS:function(){return n.os.name},getOSVersion:function(){return n.os.version},isWindows:function(){return/Windows/i.test(n.os.name)},isMac:function(){return/Mac/i.test(n.os.name)},isLinux:function(){return/Linux/i.test(n.os.name)},isUbuntu:function(){return/Ubuntu/i.test(n.os.name)},isSolaris:function(){return/Solaris/i.test(n.os.name)},getDevice:function(){return n.device.model},getDeviceType:function(){return n.device.type},getDeviceVendor:function(){return n.device.vendor},getCPU:function(){return n.cpu.architecture},isMobile:function(){var E=n.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(E)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(E.substr(0,4))},isMobileMajor:function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},isMobileAndroid:function(){return!!n.ua.match(/Android/i)},isMobileOpera:function(){return!!n.ua.match(/Opera Mini/i)},isMobileWindows:function(){return!!n.ua.match(/IEMobile/i)},isMobileBlackBerry:function(){return!!n.ua.match(/BlackBerry/i)},isMobileIOS:function(){return!!n.ua.match(/iPhone|iPad|iPod/i)},isIphone:function(){return!!n.ua.match(/iPhone/i)},isIpad:function(){return!!n.ua.match(/iPad/i)},isIpod:function(){return!!n.ua.match(/iPod/i)},getScreenPrint:function(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},getColorDepth:function(){return screen.colorDepth},getCurrentResolution:function(){return screen.width+"x"+screen.height},getAvailableResolution:function(){return screen.availWidth+"x"+screen.availHeight},getDeviceXDPI:function(){return screen.deviceXDPI},getDeviceYDPI:function(){return screen.deviceYDPI},getPlugins:function(){for(var E="",T=0;T<navigator.plugins.length;T++)T==navigator.plugins.length-1?E+=navigator.plugins[T].name:E+=navigator.plugins[T].name+", ";return E},isJava:function(){return navigator.javaEnabled()},getJavaVersion:function(){throw new Error("Please use client.java.js or client.js if you need this functionality!")},isFlash:function(){return!!navigator.plugins["Shockwave Flash"]},getFlashVersion:function(){throw new Error("Please use client.flash.js or client.js if you need this functionality!")},isSilverlight:function(){return!!navigator.plugins["Silverlight Plug-In"]},getSilverlightVersion:function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},isMimeTypes:function(){return!(!navigator.mimeTypes||!navigator.mimeTypes.length)},getMimeTypes:function(){var E="";if(navigator.mimeTypes)for(var T=0;T<navigator.mimeTypes.length;T++)T==navigator.mimeTypes.length-1?E+=navigator.mimeTypes[T].description:E+=navigator.mimeTypes[T].description+", ";return E},isFont:function(E){return o.detect(E)},getFonts:function(){for(var E=["Abadi MT Condensed Light","Adobe Fangsong Std","Adobe Hebrew","Adobe Ming Std","Agency FB","Aharoni","Andalus","Angsana New","AngsanaUPC","Aparajita","Arab","Arabic Transparent","Arabic Typesetting","Arial Baltic","Arial Black","Arial CE","Arial CYR","Arial Greek","Arial TUR","Arial","Batang","BatangChe","Bauhaus 93","Bell MT","Bitstream Vera Serif","Bodoni MT","Bookman Old Style","Braggadocio","Broadway","Browallia New","BrowalliaUPC","Calibri Light","Calibri","Californian FB","Cambria Math","Cambria","Candara","Castellar","Casual","Centaur","Century Gothic","Chalkduster","Colonna MT","Comic Sans MS","Consolas","Constantia","Copperplate Gothic Light","Corbel","Cordia New","CordiaUPC","Courier New Baltic","Courier New CE","Courier New CYR","Courier New Greek","Courier New TUR","Courier New","DFKai-SB","DaunPenh","David","DejaVu LGC Sans Mono","Desdemona","DilleniaUPC","DokChampa","Dotum","DotumChe","Ebrima","Engravers MT","Eras Bold ITC","Estrangelo Edessa","EucrosiaUPC","Euphemia","Eurostile","FangSong","Forte","FrankRuehl","Franklin Gothic Heavy","Franklin Gothic Medium","FreesiaUPC","French Script MT","Gabriola","Gautami","Georgia","Gigi","Gisha","Goudy Old Style","Gulim","GulimChe","GungSeo","Gungsuh","GungsuhChe","Haettenschweiler","Harrington","Hei S","HeiT","Heisei Kaku Gothic","Hiragino Sans GB","Impact","Informal Roman","IrisUPC","Iskoola Pota","JasmineUPC","KacstOne","KaiTi","Kalinga","Kartika","Khmer UI","Kino MT","KodchiangUPC","Kokila","Kozuka Gothic Pr6N","Lao UI","Latha","Leelawadee","Levenim MT","LilyUPC","Lohit Gujarati","Loma","Lucida Bright","Lucida Console","Lucida Fax","Lucida Sans Unicode","MS Gothic","MS Mincho","MS PGothic","MS PMincho","MS Reference Sans Serif","MS UI Gothic","MV Boli","Magneto","Malgun Gothic","Mangal","Marlett","Matura MT Script Capitals","Meiryo UI","Meiryo","Menlo","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU-ExtB","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","Miriam Fixed","Miriam","Mongolian Baiti","MoolBoran","NSimSun","Narkisim","News Gothic MT","Niagara Solid","Nyala","PMingLiU","PMingLiU-ExtB","Palace Script MT","Palatino Linotype","Papyrus","Perpetua","Plantagenet Cherokee","Playbill","Prelude Bold","Prelude Condensed Bold","Prelude Condensed Medium","Prelude Medium","PreludeCompressedWGL Black","PreludeCompressedWGL Bold","PreludeCompressedWGL Light","PreludeCompressedWGL Medium","PreludeCondensedWGL Black","PreludeCondensedWGL Bold","PreludeCondensedWGL Light","PreludeCondensedWGL Medium","PreludeWGL Black","PreludeWGL Bold","PreludeWGL Light","PreludeWGL Medium","Raavi","Rachana","Rockwell","Rod","Sakkal Majalla","Sawasdee","Script MT Bold","Segoe Print","Segoe Script","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Segoe UI","Shonar Bangla","Showcard Gothic","Shruti","SimHei","SimSun","SimSun-ExtB","Simplified Arabic Fixed","Simplified Arabic","Snap ITC","Sylfaen","Symbol","Tahoma","Times New Roman Baltic","Times New Roman CE","Times New Roman CYR","Times New Roman Greek","Times New Roman TUR","Times New Roman","TlwgMono","Traditional Arabic","Trebuchet MS","Tunga","Tw Cen MT Condensed Extra Bold","Ubuntu","Umpush","Univers","Utopia","Utsaah","Vani","Verdana","Vijaya","Vladimir Script","Vrinda","Webdings","Wide Latin","Wingdings"],T="",p=0;p<E.length;p++)o.detect(E[p])&&(T+=p==E.length-1?E[p]:E[p]+", ");return T},isLocalStorage:function(){try{return!!a.localStorage}catch{return!0}},isSessionStorage:function(){try{return!!a.sessionStorage}catch{return!0}},isCookie:function(){return navigator.cookieEnabled},getTimeZone:function(){var E,T;return E=new Date,(T=String(-E.getTimezoneOffset()/60))<0?"-"+("0"+(T*=-1)).slice(-2):"+"+("0"+T).slice(-2)},getLanguage:function(){return navigator.language},getSystemLanguage:function(){return navigator.systemLanguage||window.navigator.language},isCanvas:function(){var E=document.createElement("canvas");try{return!(!E.getContext||!E.getContext("2d"))}catch{return!1}},getCanvasPrint:function(){var E,T=document.createElement("canvas");try{E=T.getContext("2d")}catch{return""}var p="ClientJS,org <canvas> 1.0";return E.textBaseline="top",E.font="14px 'Arial'",E.textBaseline="alphabetic",E.fillStyle="#f60",E.fillRect(125,1,62,20),E.fillStyle="#069",E.fillText(p,2,15),E.fillStyle="rgba(102, 204, 0, 0.7)",E.fillText(p,4,17),T.toDataURL()}},r.ClientJS=u},function(e,r,t){"use strict";var n=t(2);e.exports=function(){return typeof global=="object"&&global&&global.Math===Math&&global.Array===Array?global:n}},function(e,r,t){"use strict";typeof self<"u"?e.exports=self:typeof window<"u"?e.exports=window:e.exports=Function("return this")()},function(e,r,t){e.exports=function(n,o){var a,i,s,_,u,E,T,p;for(a=3&n.length,i=n.length-a,s=o,u=3432918353,E=461845907,p=0;p<i;)T=255&n.charCodeAt(p)|(255&n.charCodeAt(++p))<<8|(255&n.charCodeAt(++p))<<16|(255&n.charCodeAt(++p))<<24,++p,s=27492+(65535&(_=5*(65535&(s=(s^=T=(65535&(T=(T=(65535&T)*u+(((T>>>16)*u&65535)<<16)&4294967295)<<15|T>>>17))*E+(((T>>>16)*E&65535)<<16)&4294967295)<<13|s>>>19))+((5*(s>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(T=0,a){case 3:T^=(255&n.charCodeAt(p+2))<<16;case 2:T^=(255&n.charCodeAt(p+1))<<8;case 1:s^=T=(65535&(T=(T=(65535&(T^=255&n.charCodeAt(p)))*u+(((T>>>16)*u&65535)<<16)&4294967295)<<15|T>>>17))*E+(((T>>>16)*E&65535)<<16)&4294967295}return s^=n.length,s=2246822507*(65535&(s^=s>>>16))+((2246822507*(s>>>16)&65535)<<16)&4294967295,s=3266489909*(65535&(s^=s>>>13))+((3266489909*(s>>>16)&65535)<<16)&4294967295,(s^=s>>>16)>>>0}},function(e,r,t){var n;(function(o,a){"use strict";var i="function",s="undefined",_="object",u="string",E="model",T="name",p="type",S="vendor",c="version",C="architecture",F="console",f="mobile",A="tablet",D="smarttv",Q="wearable",Oe="embedded",Pe="Amazon",O="Apple",kt="ASUS",Kt="BlackBerry",Na="Firefox",rr="Google",Wt="Huawei",Wr="LG",jr="Microsoft",jt="Motorola",Ma="Opera",Xr="Samsung",zr="Sony",Xt="Xiaomi",qr="Zebra",zt="Facebook",tr=function(m){var P={};for(var h in m)P[m[h].toUpperCase()]=m[h];return P},qt=function(m,P){return typeof m===u&&Ue(P).indexOf(Ue(m))!==-1},Ue=function(m){return m.toLowerCase()},Qr=function(m,P){if(typeof m===u)return m=m.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof P===s?m:m.substring(0,255)},we=function(m,P){for(var h,V,d,v,ne,I,or=0;or<P.length&&!ne;){var Zt=P[or],$t=P[or+1];for(h=V=0;h<Zt.length&&!ne;)if(ne=Zt[h++].exec(m))for(d=0;d<$t.length;d++)I=ne[++V],typeof(v=$t[d])===_&&v.length>0?v.length==2?typeof v[1]==i?this[v[0]]=v[1].call(this,I):this[v[0]]=v[1]:v.length==3?typeof v[1]!==i||v[1].exec&&v[1].test?this[v[0]]=I?I.replace(v[1],v[2]):a:this[v[0]]=I?v[1].call(this,I,v[2]):a:v.length==4&&(this[v[0]]=I?v[3].call(this,I.replace(v[1],v[2])):a):this[v]=I||a;or+=2}},Jr=function(m,P){for(var h in P)if(typeof P[h]===_&&P[h].length>0){for(var V=0;V<P[h].length;V++)if(qt(P[h][V],m))return h==="?"?a:h}else if(qt(P[h],m))return h==="?"?a:h;return m},Qt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Jt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[c,[T,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[c,[T,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[T,c],[/opios[\/ ]+([\w\.]+)/i],[c,[T,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[c,[T,Ma]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[T,c],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[c,[T,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[c,[T,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[c,[T,"WeChat"]],[/konqueror\/([\w\.]+)/i],[c,[T,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[c,[T,"IE"]],[/yabrowser\/([\w\.]+)/i],[c,[T,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[T,/(.+)/,"$1 Secure Browser"],c],[/\bfocus\/([\w\.]+)/i],[c,[T,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[c,[T,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[c,[T,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[c,[T,"Dolphin"]],[/coast\/([\w\.]+)/i],[c,[T,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[c,[T,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[c,[T,Na]],[/\bqihu|(qi?ho?o?|360)browser/i],[[T,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[T,/(.+)/,"$1 Browser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[T,/_/g," "],c],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[T,c],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[T],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[T,zt],c],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[T,c],[/\bgsa\/([\w\.]+) .*safari\//i],[c,[T,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[c,[T,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[T,"Chrome WebView"],c],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[c,[T,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[T,c],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[c,[T,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[c,T],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[T,[c,Jr,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[T,c],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[T,"Netscape"],c],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[c,[T,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[T,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,Ue]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,"",Ue]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,Ue]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[S,Xr],[p,A]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[S,Xr],[p,f]],[/\((ip(?:hone|od)[\w ]*);/i],[E,[S,O],[p,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[S,O],[p,A]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[S,Wt],[p,A]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[E,[S,Wt],[p,f]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[S,Xt],[p,f]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[S,Xt],[p,A]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[E,[S,"OPPO"],[p,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[S,"Vivo"],[p,f]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[E,[S,"Realme"],[p,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[S,jt],[p,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[S,jt],[p,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[S,Wr],[p,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[S,Wr],[p,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[S,"Lenovo"],[p,A]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[S,"Nokia"],[p,f]],[/(pixel c)\b/i],[E,[S,rr],[p,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[S,rr],[p,f]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[S,zr],[p,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[S,zr],[p,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[S,"OnePlus"],[p,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[S,Pe],[p,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[S,Pe],[p,f]],[/(playbook);[-\w\),; ]+(rim)/i],[E,S,[p,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[S,Kt],[p,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[S,kt],[p,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[S,kt],[p,f]],[/(nexus 9)/i],[E,[S,"HTC"],[p,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[S,[E,/_/g," "],[p,f]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[S,"Acer"],[p,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[S,"Meizu"],[p,f]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[S,"Sharp"],[p,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[S,E,[p,f]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[S,E,[p,A]],[/(surface duo)/i],[E,[S,jr],[p,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[S,"Fairphone"],[p,f]],[/(u304aa)/i],[E,[S,"AT&T"],[p,f]],[/\bsie-(\w*)/i],[E,[S,"Siemens"],[p,f]],[/\b(rct\w+) b/i],[E,[S,"RCA"],[p,A]],[/\b(venue[\d ]{2,7}) b/i],[E,[S,"Dell"],[p,A]],[/\b(q(?:mv|ta)\w+) b/i],[E,[S,"Verizon"],[p,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[S,"Barnes & Noble"],[p,A]],[/\b(tm\d{3}\w+) b/i],[E,[S,"NuVision"],[p,A]],[/\b(k88) b/i],[E,[S,"ZTE"],[p,A]],[/\b(nx\d{3}j) b/i],[E,[S,"ZTE"],[p,f]],[/\b(gen\d{3}) b.+49h/i],[E,[S,"Swiss"],[p,f]],[/\b(zur\d{3}) b/i],[E,[S,"Swiss"],[p,A]],[/\b((zeki)?tb.*\b) b/i],[E,[S,"Zeki"],[p,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[S,"Dragon Touch"],E,[p,A]],[/\b(ns-?\w{0,9}) b/i],[E,[S,"Insignia"],[p,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[S,"NextBook"],[p,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[S,"Voice"],E,[p,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[S,"LvTel"],E,[p,f]],[/\b(ph-1) /i],[E,[S,"Essential"],[p,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[S,"Envizen"],[p,A]],[/\b(trio[-\w\. ]+) b/i],[E,[S,"MachSpeed"],[p,A]],[/\btu_(1491) b/i],[E,[S,"Rotor"],[p,A]],[/(shield[\w ]+) b/i],[E,[S,"Nvidia"],[p,A]],[/(sprint) (\w+)/i],[S,E,[p,f]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[S,jr],[p,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[S,qr],[p,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[S,qr],[p,f]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[S,E,[p,F]],[/droid.+; (shield) bui/i],[E,[S,"Nvidia"],[p,F]],[/(playstation [345portablevi]+)/i],[E,[S,zr],[p,F]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[S,jr],[p,F]],[/smart-tv.+(samsung)/i],[S,[p,D]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[S,Xr],[p,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[S,Wr],[p,D]],[/(apple) ?tv/i],[S,[E,"Apple TV"],[p,D]],[/crkey/i],[[E,"Chromecast"],[S,rr],[p,D]],[/droid.+aft(\w)( bui|\))/i],[E,[S,Pe],[p,D]],[/\(dtv[\);].+(aquos)/i],[E,[S,"Sharp"],[p,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[S,Qr],[E,Qr],[p,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,D]],[/((pebble))app/i],[S,E,[p,Q]],[/droid.+; (glass) \d/i],[E,[S,rr],[p,Q]],[/droid.+; (wt63?0{2,3})\)/i],[E,[S,qr],[p,Q]],[/(quest( 2)?)/i],[E,[S,zt],[p,Q]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[S,[p,Oe]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[E,[p,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[p,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,A]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,f]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[S,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[c,[T,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[T,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[T,c],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[c,T]],os:[[/microsoft (windows) (vista|xp)/i],[T,c],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[T,[c,Jr,Qt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[T,"Windows"],[c,Jr,Qt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[c,/_/g,"."],[T,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[T,"Mac OS"],[c,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[c,T],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[T,c],[/\(bb(10);/i],[c,[T,Kt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[c,[T,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[c,[T,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[c,[T,"webOS"]],[/crkey\/([\d\.]+)/i],[c,[T,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[T,"Chromium OS"],c],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[T,c],[/(sunos) ?([\w\.\d]*)/i],[[T,"Solaris"],c],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[T,c]]},b=function(m,P){if(typeof m===_&&(P=m,m=a),!(this instanceof b))return new b(m,P).getResult();var h=m||(typeof o!==s&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),V=P?function(d,v){var ne={};for(var I in d)v[I]&&v[I].length%2==0?ne[I]=v[I].concat(d[I]):ne[I]=d[I];return ne}(Jt,P):Jt;return this.getBrowser=function(){var d,v={};return v.name=a,v.version=a,we.call(v,h,V.browser),v.major=typeof(d=v.version)===u?d.replace(/[^\d\.]/g,"").split(".")[0]:a,v},this.getCPU=function(){var d={};return d.architecture=a,we.call(d,h,V.cpu),d},this.getDevice=function(){var d={};return d.vendor=a,d.model=a,d.type=a,we.call(d,h,V.device),d},this.getEngine=function(){var d={};return d.name=a,d.version=a,we.call(d,h,V.engine),d},this.getOS=function(){var d={};return d.name=a,d.version=a,we.call(d,h,V.os),d},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return h},this.setUA=function(d){return h=typeof d===u&&d.length>255?Qr(d,255):d,this},this.setUA(h),this};b.VERSION="0.7.30",b.BROWSER=tr([T,c,"major"]),b.CPU=tr([C]),b.DEVICE=tr([E,S,p,F,f,D,A,Q,Oe]),b.ENGINE=b.OS=tr([T,c]),typeof r!==s?(typeof e!==s&&e.exports&&(r=e.exports=b),r.UAParser=b):t(5)?(n=function(){return b}.call(r,t,r,e))===a||(e.exports=n):typeof o!==s&&(o.UAParser=b);var ge=typeof o!==s&&(o.jQuery||o.Zepto);if(ge&&!ge.ua){var nr=new b;ge.ua=nr.getResult(),ge.ua.get=function(){return nr.getUA()},ge.ua.set=function(m){nr.setUA(m);var P=nr.getResult();for(var h in P)ge.ua[h]=P[h]}}})(typeof window=="object"?window:this)},function(e,r){(function(t){e.exports=t}).call(this,{})},function(e,r){e.exports=function(){var t=["monospace","sans-serif","serif"],n=document.getElementsByTagName("body")[0],o=document.createElement("span");o.style.fontSize="72px",o.innerHTML="mmmmmmmmmmlli";var a={},i={};for(var s in t)o.style.fontFamily=t[s],n.appendChild(o),a[t[s]]=o.offsetWidth,i[t[s]]=o.offsetHeight,n.removeChild(o);this.detect=function(_){var u=!1;for(var E in t){o.style.fontFamily=_+","+t[E],n.appendChild(o);var T=o.offsetWidth!=a[t[E]]||o.offsetHeight!=i[t[E]];n.removeChild(o),u=u||T}return u}}}])})});var Ve="1.3.8";var rn="1.0.0",tn="View",Va=6e4,nn=10*Va,on=3e4;var Zr=function(){function e(r){this._delegate=r}return e.prototype.export=function(r,t){this._delegate.export(r,t)},e.prototype.forceFlush=function(){return this._delegate.forceFlush()},e.prototype.shutdown=function(){return this._delegate.shutdown()},e}();var Ba=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$r=function(e){Ba(r,e);function r(t,n,o){var a=e.call(this,t)||this;return a.name="OTLPExporterError",a.data=o,a.code=n,a}return r}(Error);function Ga(e){if(!Number.isNaN(e)&&Number.isFinite(e)&&e>0)return e;throw new Error("Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '"+e+"')")}function an(e){if(e!=null)return function(){return e}}function sn(e,r,t){var n,o,a,i,s,_;return{timeoutMillis:Ga((o=(n=e.timeoutMillis)!==null&&n!==void 0?n:r.timeoutMillis)!==null&&o!==void 0?o:t.timeoutMillis),concurrencyLimit:(i=(a=e.concurrencyLimit)!==null&&a!==void 0?a:r.concurrencyLimit)!==null&&i!==void 0?i:t.concurrencyLimit,compression:(_=(s=e.compression)!==null&&s!==void 0?s:r.compression)!==null&&_!==void 0?_:t.compression}}function En(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var Ha=function(e,r,t,n){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function s(E){try{u(n.next(E))}catch(T){i(T)}}function _(E){try{u(n.throw(E))}catch(T){i(T)}}function u(E){E.done?a(E.value):o(E.value).then(s,_)}u((n=n.apply(e,r||[])).next())})},Ya=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(E){return _([u,E])}}function _(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(E){u=[6,E],o=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Fa=function(){function e(r){this._sendingPromises=[],this._concurrencyLimit=r}return e.prototype.pushPromise=function(r){var t=this;if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(r);var n=function(){var o=t._sendingPromises.indexOf(r);t._sendingPromises.splice(o,1)};r.then(n,n)},e.prototype.hasReachedLimit=function(){return this._sendingPromises.length>=this._concurrencyLimit},e.prototype.awaitAll=function(){return Ha(this,void 0,void 0,function(){return Ya(this,function(r){switch(r.label){case 0:return[4,Promise.all(this._sendingPromises)];case 1:return r.sent(),[2]}})})},e}();function un(e){return new Fa(e.concurrencyLimit)}var _n=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var J="1.9.0";var Tn=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function ka(e){var r=new Set([e]),t=new Set,n=e.match(Tn);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(_){return _===e};function a(s){return t.add(s),!1}function i(s){return r.add(s),!0}return function(_){if(r.has(_))return!0;if(t.has(_))return!1;var u=_.match(Tn);if(!u)return a(_);var E={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return E.prerelease!=null||o.major!==E.major?a(_):o.major===0?o.minor===E.minor&&o.patch<=E.patch?i(_):a(_):o.minor<=E.minor?i(_):a(_)}}var pn=ka(J);var Ka=J.split(".")[0],Be=Symbol.for("opentelemetry.js.api."+Ka),Ge=_n;function oe(e,r,t,n){var o;n===void 0&&(n=!1);var a=Ge[Be]=(o=Ge[Be])!==null&&o!==void 0?o:{version:J};if(!n&&a[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return t.error(i.stack||i.message),!1}if(a.version!==J){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+J);return t.error(i.stack||i.message),!1}return a[e]=r,t.debug("@opentelemetry/api: Registered a global for "+e+" v"+J+"."),!0}function B(e){var r,t,n=(r=Ge[Be])===null||r===void 0?void 0:r.version;if(!(!n||!pn(n)))return(t=Ge[Be])===null||t===void 0?void 0:t[e]}function ae(e,r){r.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+J+".");var t=Ge[Be];t&&delete t[e]}var Wa=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},ja=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},Sn=function(){function e(r){this._namespace=r.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return He("debug",this._namespace,r)},e.prototype.error=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return He("error",this._namespace,r)},e.prototype.info=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return He("info",this._namespace,r)},e.prototype.warn=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return He("warn",this._namespace,r)},e.prototype.verbose=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return He("verbose",this._namespace,r)},e}();function He(e,r,t){var n=B("diag");if(n)return t.unshift(r),n[e].apply(n,ja([],Wa(t),!1))}var g;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(g||(g={}));function cn(e,r){e<g.NONE?e=g.NONE:e>g.ALL&&(e=g.ALL),r=r||{};function t(n,o){var a=r[n];return typeof a=="function"&&e>=o?a.bind(r):function(){}}return{error:t("error",g.ERROR),warn:t("warn",g.WARN),info:t("info",g.INFO),debug:t("debug",g.DEBUG),verbose:t("verbose",g.VERBOSE)}}var Xa=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},za=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},qa="diag",U=function(){function e(){function r(o){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var s=B("diag");if(s)return s[o].apply(s,za([],Xa(a),!1))}}var t=this,n=function(o,a){var i,s,_;if(a===void 0&&(a={logLevel:g.INFO}),o===t){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((i=u.stack)!==null&&i!==void 0?i:u.message),!1}typeof a=="number"&&(a={logLevel:a});var E=B("diag"),T=cn((s=a.logLevel)!==null&&s!==void 0?s:g.INFO,o);if(E&&!a.suppressOverrideMessage){var p=(_=new Error().stack)!==null&&_!==void 0?_:"<failed to generate stacktrace>";E.warn("Current logger will be overwritten from "+p),T.warn("Current logger will overwrite one already registered from "+p)}return oe("diag",T,t,!0)};t.setLogger=n,t.disable=function(){ae(qa,t)},t.createComponentLogger=function(o){return new Sn(o)},t.verbose=r("verbose"),t.debug=r("debug"),t.info=r("info"),t.warn=r("warn"),t.error=r("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();var Qa=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},Ja=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ln=function(){function e(r){this._entries=r?new Map(r):new Map}return e.prototype.getEntry=function(r){var t=this._entries.get(r);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(r){var t=Qa(r,2),n=t[0],o=t[1];return[n,o]})},e.prototype.setEntry=function(r,t){var n=new e(this._entries);return n._entries.set(r,t),n},e.prototype.removeEntry=function(r){var t=new e(this._entries);return t._entries.delete(r),t},e.prototype.removeEntries=function(){for(var r,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=new e(this._entries);try{for(var i=Ja(n),s=i.next();!s.done;s=i.next()){var _=s.value;a._entries.delete(_)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a},e.prototype.clear=function(){return new e},e}();var fn=Symbol("BaggageEntryMetadata");var Za=U.instance();function An(e){return e===void 0&&(e={}),new ln(new Map(Object.entries(e)))}function et(e){return typeof e!="string"&&(Za.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:fn,toString:function(){return e}}}function Se(e){return Symbol.for(e)}var $a=function(){function e(r){var t=this;t._currentContext=r?new Map(r):new Map,t.getValue=function(n){return t._currentContext.get(n)},t.setValue=function(n,o){var a=new e(t._currentContext);return a._currentContext.set(n,o),a},t.deleteValue=function(n){var o=new e(t._currentContext);return o._currentContext.delete(n),o}}return e}(),Z=new $a;var dn={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},vn={set:function(e,r,t){e!=null&&(e[r]=t)}};var ei=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},ri=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},mn=function(){function e(){}return e.prototype.active=function(){return Z},e.prototype.with=function(r,t,n){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return t.call.apply(t,ri([n],ei(o),!1))},e.prototype.bind=function(r,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var ti=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},ni=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},rt="context",oi=new mn,ie=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(r){return oe(rt,r,U.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(r,t,n){for(var o,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(o=this._getContextManager()).with.apply(o,ni([r,t,n],ti(a),!1))},e.prototype.bind=function(r,t){return this._getContextManager().bind(r,t)},e.prototype._getContextManager=function(){return B(rt)||oi},e.prototype.disable=function(){this._getContextManager().disable(),ae(rt,U.instance())},e}();var y;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(y||(y={}));var ar="0000000000000000",ir="00000000000000000000000000000000",Ye={traceId:ir,spanId:ar,traceFlags:y.NONE};var se=function(){function e(r){r===void 0&&(r=Ye),this._spanContext=r}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(r,t){return this},e.prototype.setAttributes=function(r){return this},e.prototype.addEvent=function(r,t){return this},e.prototype.addLink=function(r){return this},e.prototype.addLinks=function(r){return this},e.prototype.setStatus=function(r){return this},e.prototype.updateName=function(r){return this},e.prototype.end=function(r){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(r,t){},e}();var tt=Se("OpenTelemetry Context Key SPAN");function sr(e){return e.getValue(tt)||void 0}function hn(){return sr(ie.getInstance().active())}function Fe(e,r){return e.setValue(tt,r)}function Rn(e){return e.deleteValue(tt)}function On(e,r){return Fe(e,new se(r))}function Er(e){var r;return(r=sr(e))===null||r===void 0?void 0:r.spanContext()}var ai=/^([0-9a-f]{32})$/i,ii=/^[0-9a-f]{16}$/i;function ur(e){return ai.test(e)&&e!==ir}function Pn(e){return ii.test(e)&&e!==ar}function $(e){return ur(e.traceId)&&Pn(e.spanId)}function gn(e){return new se(e)}var nt=ie.getInstance(),_r=function(){function e(){}return e.prototype.startSpan=function(r,t,n){n===void 0&&(n=nt.active());var o=!!t?.root;if(o)return new se;var a=n&&Er(n);return si(a)&&$(a)?new se(a):new se},e.prototype.startActiveSpan=function(r,t,n,o){var a,i,s;if(!(arguments.length<2)){arguments.length===2?s=t:arguments.length===3?(a=t,s=n):(a=t,i=n,s=o);var _=i??nt.active(),u=this.startSpan(r,a,_),E=Fe(_,u);return nt.with(E,s,void 0,u)}},e}();function si(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Ei=new _r,Nn=function(){function e(r,t,n,o){this._provider=r,this.name=t,this.version=n,this.options=o}return e.prototype.startSpan=function(r,t,n){return this._getTracer().startSpan(r,t,n)},e.prototype.startActiveSpan=function(r,t,n,o){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var r=this._provider.getDelegateTracer(this.name,this.version,this.options);return r?(this._delegate=r,this._delegate):Ei},e}();var Mn=function(){function e(){}return e.prototype.getTracer=function(r,t,n){return new _r},e}();var ui=new Mn,ot=function(){function e(){}return e.prototype.getTracer=function(r,t,n){var o;return(o=this.getDelegateTracer(r,t,n))!==null&&o!==void 0?o:new Nn(this,r,t,n)},e.prototype.getDelegate=function(){var r;return(r=this._delegate)!==null&&r!==void 0?r:ui},e.prototype.setDelegate=function(r){this._delegate=r},e.prototype.getDelegateTracer=function(r,t,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(r,t,n)},e}();var Ne;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ne||(Ne={}));var ce;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(ce||(ce={}));var G;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(G||(G={}));var x=ie.getInstance();var l=U.instance();var Ln=function(){function e(){}return e.prototype.inject=function(r,t){},e.prototype.extract=function(r,t){return r},e.prototype.fields=function(){return[]},e}();var at=Se("OpenTelemetry Baggage Key");function it(e){return e.getValue(at)||void 0}function Cn(){return it(ie.getInstance().active())}function In(e,r){return e.setValue(at,r)}function xn(e){return e.deleteValue(at)}var st="propagation",_i=new Ln,Dn=function(){function e(){this.createBaggage=An,this.getBaggage=it,this.getActiveBaggage=Cn,this.setBaggage=In,this.deleteBaggage=xn}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(r){return oe(st,r,U.instance())},e.prototype.inject=function(r,t,n){return n===void 0&&(n=vn),this._getGlobalPropagator().inject(r,t,n)},e.prototype.extract=function(r,t,n){return n===void 0&&(n=dn),this._getGlobalPropagator().extract(r,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){ae(st,U.instance())},e.prototype._getGlobalPropagator=function(){return B(st)||_i},e}();var le=Dn.getInstance();var Et="trace",yn=function(){function e(){this._proxyTracerProvider=new ot,this.wrapSpanContext=gn,this.isSpanContextValid=$,this.deleteSpan=Rn,this.getSpan=sr,this.getActiveSpan=hn,this.getSpanContext=Er,this.setSpan=Fe,this.setSpanContext=On}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(r){var t=oe(Et,this._proxyTracerProvider,U.instance());return t&&this._proxyTracerProvider.setDelegate(r),t},e.prototype.getTracerProvider=function(){return B(Et)||this._proxyTracerProvider},e.prototype.getTracer=function(r,t){return this.getTracerProvider().getTracer(r,t)},e.prototype.disable=function(){ae(Et,U.instance()),this._proxyTracerProvider=new ot},e}();var M=yn.getInstance();var pi="exception.type",Si="exception.message",ci="exception.stacktrace";var Tr=pi,pr=Si,bn=ci;var li="process.runtime.name";var fi="service.name";var Ai="telemetry.sdk.name",di="telemetry.sdk.language",vi="telemetry.sdk.version";var Un=li;var wn=fi;var ke=Ai,Ke=di,We=vi;var mi="webjs";var Vn=mi;var H;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(H||(H={}));function hi(e){return Object.prototype.hasOwnProperty.call(e,"partialSuccess")}function Bn(){return{handleResponse:function(e){e==null||!hi(e)||e.partialSuccess==null||Object.keys(e.partialSuccess).length===0||l.warn("Received Partial Success response:",JSON.stringify(e.partialSuccess))}}}var Ri=function(e,r,t,n){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function s(E){try{u(n.next(E))}catch(T){i(T)}}function _(E){try{u(n.throw(E))}catch(T){i(T)}}function u(E){E.done?a(E.value):o(E.value).then(s,_)}u((n=n.apply(e,r||[])).next())})},Oi=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(E){return _([u,E])}}function _(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(E){u=[6,E],o=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Pi=function(){function e(r,t,n,o,a){this._transport=r,this._serializer=t,this._responseHandler=n,this._promiseQueue=o,this._timeout=a,this._diagLogger=l.createComponentLogger({namespace:"OTLPExportDelegate"})}return e.prototype.export=function(r,t){var n=this;if(this._diagLogger.debug("items to be sent",r),this._promiseQueue.hasReachedLimit()){t({code:H.FAILED,error:new Error("Concurrent export limit reached")});return}var o=this._serializer.serializeRequest(r);if(o==null){t({code:H.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(o,this._timeout).then(function(a){if(a.status==="success"){if(a.data!=null)try{n._responseHandler.handleResponse(n._serializer.deserializeResponse(a.data))}catch(i){n._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",i,a.data)}t({code:H.SUCCESS});return}else if(a.status==="failure"&&a.error){t({code:H.FAILED,error:a.error});return}else a.status==="retryable"?t({code:H.FAILED,error:new $r("Export failed with retryable status")}):t({code:H.FAILED,error:new $r("Export failed with unknown error")})},function(a){return t({code:H.FAILED,error:a})}))},e.prototype.forceFlush=function(){return this._promiseQueue.awaitAll()},e.prototype.shutdown=function(){return Ri(this,void 0,void 0,function(){return Oi(this,function(r){switch(r.label){case 0:return this._diagLogger.debug("shutdown started"),[4,this.forceFlush()];case 1:return r.sent(),this._transport.shutdown(),[2]}})})},e}();function Gn(e,r){return new Pi(e.transport,e.serializer,Bn(),e.promiseHandler,r.timeout)}function ut(e,r,t){return Gn({transport:t,serializer:r,promiseHandler:un(e)},{timeout:e.timeoutMillis})}function Hn(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function je(e){for(var r=new Uint8Array(e.length/2),t=0,n=0;n<e.length;n+=2){var o=Hn(e.charCodeAt(n)),a=Hn(e.charCodeAt(n+1));r[t++]=o<<4|a}return r}var gi=9,Ni=6,b_=Math.pow(10,Ni),Mi=Math.pow(10,gi);function _t(e){return e[0]*Mi+e[1]}function Fn(e){var r=BigInt(1e9);return BigInt(e[0])*r+BigInt(e[1])}function Li(e){var r=Number(BigInt.asUintN(32,e)),t=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:r,high:t}}function kn(e){var r=Fn(e);return Li(r)}function Ci(e){var r=Fn(e);return r.toString()}var Ii=typeof BigInt<"u"?Ci:_t;function Yn(e){return e}function Kn(e){if(e!==void 0)return je(e)}var xi={encodeHrTime:kn,encodeSpanContext:je,encodeOptionalSpanContext:Kn};function Wn(e){var r,t;if(e===void 0)return xi;var n=(r=e.useLongBits)!==null&&r!==void 0?r:!0,o=(t=e.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:n?kn:Ii,encodeSpanContext:o?Yn:je,encodeOptionalSpanContext:o?Yn:Kn}}var Di=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a};function jn(e){return{attributes:Xe(e.attributes),droppedAttributesCount:0}}function Xn(e){return{name:e.name,version:e.version}}function Xe(e){return Object.keys(e).map(function(r){return zn(r,e[r])})}function zn(e,r){return{key:e,value:qn(r)}}function qn(e){var r=typeof e;return r==="string"?{stringValue:e}:r==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:r==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(qn)}}:r==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(function(t){var n=Di(t,2),o=n[0],a=n[1];return zn(o,a)})}}:{}}var Qn="1.30.1";var Me,Le=(Me={},Me[ke]="opentelemetry",Me[Un]="browser",Me[Ke]=Vn,Me[We]=Qn,Me);function Tt(){return"unknown_service"}var Ee=function(){return Ee=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ee.apply(this,arguments)},yi=function(e,r,t,n){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function s(E){try{u(n.next(E))}catch(T){i(T)}}function _(E){try{u(n.throw(E))}catch(T){i(T)}}function u(E){E.done?a(E.value):o(E.value).then(s,_)}u((n=n.apply(e,r||[])).next())})},bi=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(E){return _([u,E])}}function _(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(E){u=[6,E],o=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ui=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},Ce=function(){function e(r,t){var n=this,o;this._attributes=r,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t?.then(function(a){return n._attributes=Object.assign({},n._attributes,a),n.asyncAttributesPending=!1,a},function(a){return l.debug("a resource's async attributes promise rejected: %s",a),n.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var r;return new e((r={},r[wn]=Tt(),r[Ke]=Le[Ke],r[ke]=Le[ke],r[We]=Le[We],r))},Object.defineProperty(e.prototype,"attributes",{get:function(){var r;return this.asyncAttributesPending&&l.error("Accessing resource attributes before async attributes settled"),(r=this._attributes)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return yi(this,void 0,void 0,function(){return bi(this,function(r){switch(r.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.merge=function(r){var t=this,n;if(!r)return this;var o=Ee(Ee({},this._syncAttributes),(n=r._syncAttributes)!==null&&n!==void 0?n:r.attributes);if(!this._asyncAttributesPromise&&!r._asyncAttributesPromise)return new e(o);var a=Promise.all([this._asyncAttributesPromise,r._asyncAttributesPromise]).then(function(i){var s,_=Ui(i,2),u=_[0],E=_[1];return Ee(Ee(Ee(Ee({},t._syncAttributes),u),(s=r._syncAttributes)!==null&&s!==void 0?s:r.attributes),E)});return new e(o,a)},e.EMPTY=new e({}),e}();var wi=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Vi=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a};function Bi(e,r){var t,n=e.spanContext(),o=e.status;return{traceId:r.encodeSpanContext(n.traceId),spanId:r.encodeSpanContext(n.spanId),parentSpanId:r.encodeOptionalSpanContext(e.parentSpanId),traceState:(t=n.traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:r.encodeHrTime(e.startTime),endTimeUnixNano:r.encodeHrTime(e.endTime),attributes:Xe(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(a){return Hi(a,r)}),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map(function(a){return Gi(a,r)}),droppedLinksCount:e.droppedLinksCount}}function Gi(e,r){var t;return{attributes:e.attributes?Xe(e.attributes):[],spanId:r.encodeSpanContext(e.context.spanId),traceId:r.encodeSpanContext(e.context.traceId),traceState:(t=e.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function Hi(e,r){return{attributes:e.attributes?Xe(e.attributes):[],name:e.name,timeUnixNano:r.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function Jn(e,r){var t=Wn(r);return{resourceSpans:Fi(e,t)}}function Yi(e){var r,t,n=new Map;try{for(var o=wi(e),a=o.next();!a.done;a=o.next()){var i=a.value,s=n.get(i.resource);s||(s=new Map,n.set(i.resource,s));var _=i.instrumentationLibrary.name+"@"+(i.instrumentationLibrary.version||"")+":"+(i.instrumentationLibrary.schemaUrl||""),u=s.get(_);u||(u=[],s.set(_,u)),u.push(i)}}catch(E){r={error:E}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return n}function Fi(e,r){for(var t=Yi(e),n=[],o=t.entries(),a=o.next();!a.done;){for(var i=Vi(a.value,2),s=i[0],_=i[1],u=[],E=_.values(),T=E.next();!T.done;){var p=T.value;if(p.length>0){var S=p.map(function(C){return Bi(C,r)});u.push({scope:Xn(p[0].instrumentationLibrary),spans:S,schemaUrl:p[0].instrumentationLibrary.schemaUrl})}T=E.next()}var c={resource:jn(s),scopeSpans:u,schemaUrl:void 0};n.push(c),a=o.next()}return n}var Sr={serializeRequest:function(e){var r=Jn(e,{useHex:!0,useLongBits:!1}),t=new TextEncoder;return t.encode(JSON.stringify(r))},deserializeResponse:function(e){var r=new TextDecoder;return JSON.parse(r.decode(e))}};var ki=function(e,r,t,n){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function s(E){try{u(n.next(E))}catch(T){i(T)}}function _(E){try{u(n.throw(E))}catch(T){i(T)}}function u(E){E.done?a(E.value):o(E.value).then(s,_)}u((n=n.apply(e,r||[])).next())})},Ki=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(E){return _([u,E])}}function _(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=u[0]&2?o.return:u[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,u[1])).done)return a;switch(o=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,o=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(E){u=[6,E],o=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Wi=5,ji=1e3,Xi=5e3,zi=1.5,Zn=.2;function qi(){return Math.random()*(2*Zn)-Zn}var Qi=function(){function e(r){this._transport=r}return e.prototype.retry=function(r,t,n){var o=this;return new Promise(function(a,i){setTimeout(function(){o._transport.send(r,t).then(a,i)},n)})},e.prototype.send=function(r,t){var n;return ki(this,void 0,void 0,function(){var o,a,i,s,_,u,E;return Ki(this,function(T){switch(T.label){case 0:return o=Date.now()+t,[4,this._transport.send(r,t)];case 1:a=T.sent(),i=Wi,s=ji,T.label=2;case 2:return a.status==="retryable"&&i>0?(i--,_=Math.max(Math.min(s,Xi)+qi(),0),s=s*zi,u=(n=a.retryInMillis)!==null&&n!==void 0?n:_,E=o-Date.now(),u>E?[2,a]:[4,this.retry(r,E,u)]):[3,4];case 3:return a=T.sent(),[3,2];case 4:return[2,a]}})})},e.prototype.shutdown=function(){return this._transport.shutdown()},e}();function pt(e){return new Qi(e.transport)}function $n(e){var r=[429,502,503,504];return r.includes(e)}function eo(e){if(e!=null){var r=Number.parseInt(e,10);if(Number.isInteger(r))return r>0?r*1e3:-1;var t=new Date(e).getTime()-Date.now();return t>=0?t:0}}var Ji=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},Zi=function(){function e(r){this._parameters=r}return e.prototype.send=function(r,t){var n=this;return new Promise(function(o){var a=new XMLHttpRequest;a.timeout=t,a.open("POST",n._parameters.url);var i=n._parameters.headers();Object.entries(i).forEach(function(s){var _=Ji(s,2),u=_[0],E=_[1];a.setRequestHeader(u,E)}),a.ontimeout=function(s){o({status:"failure",error:new Error("XHR request timed out")})},a.onreadystatechange=function(){a.status>=200&&a.status<=299?(l.debug("XHR success"),o({status:"success"})):a.status&&$n(a.status)?o({status:"retryable",retryInMillis:eo(a.getResponseHeader("Retry-After"))}):a.status!==0&&o({status:"failure",error:new Error("XHR request failed with non-retryable status")})},a.onabort=function(){o({status:"failure",error:new Error("XHR request aborted")})},a.onerror=function(){o({status:"failure",error:new Error("XHR request errored")})},a.send(r)})},e.prototype.shutdown=function(){},e}();function ro(e){return new Zi(e)}var $i=function(){function e(r){this._params=r}return e.prototype.send=function(r){var t=this;return new Promise(function(n){navigator.sendBeacon(t._params.url,new Blob([r],{type:t._params.blobType}))?(l.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:new Error("SendBeacon failed")})})},e.prototype.shutdown=function(){},e}();function to(e){return new $i(e)}function no(e,r){return ut(e,r,pt({transport:ro(e)}))}function oo(e,r){return ut(e,r,pt({transport:to({url:e.url,blobType:e.headers()["Content-Type"]})}))}var es=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a};function ao(e){return function(){var r,t={};return Object.entries((r=e?.())!==null&&r!==void 0?r:{}).forEach(function(n){var o=es(n,2),a=o[0],i=o[1];typeof i<"u"?t[a]=String(i):l.warn('Header "'+a+'" has invalid value ('+i+") and will be ignored")}),t}}var fe=function(){return fe=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},fe.apply(this,arguments)};function rs(e,r,t){var n=fe({},t()),o={};return function(){return r!=null&&Object.assign(o,r()),e!=null&&Object.assign(o,e()),Object.assign(o,n)}}function ts(e){if(e!=null)try{return new URL(e),e}catch{throw new Error("Configuration: Could not parse user-provided export URL: '"+e+"'")}}function io(e,r,t){var n,o,a,i;return fe(fe({},sn(e,r,t)),{headers:rs(ao(e.headers),r.headers,t.headers),url:(o=(n=ts(e.url))!==null&&n!==void 0?n:r.url)!==null&&o!==void 0?o:t.url,agentOptions:(i=(a=e.agentOptions)!==null&&a!==void 0?a:r.agentOptions)!==null&&i!==void 0?i:t.agentOptions})}function so(e,r){return fe(fe({},En()),{headers:function(){return e},url:"http://localhost:4318/"+r,agentOptions:{keepAlive:!0}})}function Eo(e,r,t){return io({url:e.url,timeoutMillis:e.timeoutMillis,headers:an(e.headers),concurrencyLimit:e.concurrencyLimit},{},so(t,r))}function St(e,r,t,n){var o=!!e.headers||typeof navigator.sendBeacon!="function",a=Eo(e,t,n);return o?no(a,r):oo(a,r)}var ns=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uo=function(e){ns(r,e);function r(t){return t===void 0&&(t={}),e.call(this,St(t,Sr,"v1/traces",{"Content-Type":"application/json"}))||this}return r}(Zr);var _o=Se("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function ct(e){return e.setValue(_o,!0)}function Ae(e){return e.getValue(_o)===!0}var To="=",cr=";",ze=",",lr="baggage",po=180,So=4096,co=8192;var os=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a};function lo(e){return e.reduce(function(r,t){var n=""+r+(r!==""?ze:"")+t;return n.length>co?r:n},"")}function fo(e){return e.getAllEntries().map(function(r){var t=os(r,2),n=t[0],o=t[1],a=encodeURIComponent(n)+"="+encodeURIComponent(o.value);return o.metadata!==void 0&&(a+=cr+o.metadata.toString()),a})}function Ao(e){var r=e.split(cr);if(!(r.length<=0)){var t=r.shift();if(t){var n=t.indexOf(To);if(!(n<=0)){var o=decodeURIComponent(t.substring(0,n).trim()),a=decodeURIComponent(t.substring(n+1).trim()),i;return r.length>0&&(i=et(r.join(cr))),{key:o,value:a,metadata:i}}}}}var lt=function(){function e(){}return e.prototype.inject=function(r,t,n){var o=le.getBaggage(r);if(!(!o||Ae(r))){var a=fo(o).filter(function(s){return s.length<=So}).slice(0,po),i=lo(a);i.length>0&&n.set(t,lr,i)}},e.prototype.extract=function(r,t,n){var o=n.get(t,lr),a=Array.isArray(o)?o.join(ze):o;if(!a)return r;var i={};if(a.length===0)return r;var s=a.split(ze);return s.forEach(function(_){var u=Ao(_);if(u){var E={value:u.value};u.metadata&&(E.metadata=u.metadata),i[u.key]=E}}),Object.entries(i).length===0?r:le.setBaggage(r,le.createBaggage(i))},e.prototype.fields=function(){return[lr]},e}();var vo=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},as=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a};function de(e){var r,t,n={};if(typeof e!="object"||e==null)return n;try{for(var o=vo(Object.entries(e)),a=o.next();!a.done;a=o.next()){var i=as(a.value,2),s=i[0],_=i[1];if(!mo(s)){l.warn("Invalid attribute key: "+s);continue}if(!fr(_)){l.warn("Invalid attribute value set for key: "+s);continue}Array.isArray(_)?n[s]=_.slice():n[s]=_}}catch(u){r={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return n}function mo(e){return typeof e=="string"&&e.length>0}function fr(e){return e==null?!0:Array.isArray(e)?is(e):ho(e)}function is(e){var r,t,n;try{for(var o=vo(e),a=o.next();!a.done;a=o.next()){var i=a.value;if(i!=null){if(!n){if(ho(i)){n=typeof i;continue}return!1}if(typeof i!==n)return!1}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return!0}function ho(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function Ro(){return function(e){l.error(ss(e))}}function ss(e){return typeof e=="string"?e:JSON.stringify(Es(e))}function Es(e){for(var r={},t=e;t!==null;)Object.getOwnPropertyNames(t).forEach(function(n){if(!r[n]){var o=t[n];o&&(r[n]=String(o))}}),t=Object.getPrototypeOf(t);return r}var us=Ro();function Y(e){try{us(e)}catch{}}var w;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(w||(w={}));var _s=",",Ts=["OTEL_SDK_DISABLED"];function ps(e){return Ts.indexOf(e)>-1}var Ss=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function cs(e){return Ss.indexOf(e)>-1}var ls=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function fs(e){return ls.indexOf(e)>-1}var Ie=1/0,xe=128,Oo=128,Po=128,Ar={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:g.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ie,OTEL_ATTRIBUTE_COUNT_LIMIT:xe,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ie,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:xe,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ie,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:xe,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Oo,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Po,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:w.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function As(e,r,t){if(!(typeof t[e]>"u")){var n=String(t[e]);r[e]=n.toLowerCase()==="true"}}function ds(e,r,t,n,o){if(n===void 0&&(n=-1/0),o===void 0&&(o=1/0),typeof t[e]<"u"){var a=Number(t[e]);isNaN(a)||(a<n?r[e]=n:a>o?r[e]=o:r[e]=a)}}function vs(e,r,t,n){n===void 0&&(n=_s);var o=t[e];typeof o=="string"&&(r[e]=o.split(n).map(function(a){return a.trim()}))}var ms={ALL:g.ALL,VERBOSE:g.VERBOSE,DEBUG:g.DEBUG,INFO:g.INFO,WARN:g.WARN,ERROR:g.ERROR,NONE:g.NONE};function hs(e,r,t){var n=t[e];if(typeof n=="string"){var o=ms[n.toUpperCase()];o!=null&&(r[e]=o)}}function dr(e){var r={};for(var t in Ar){var n=t;switch(n){case"OTEL_LOG_LEVEL":hs(n,r,e);break;default:if(ps(n))As(n,r,e);else if(cs(n))ds(n,r,e);else if(fs(n))vs(n,r,e);else{var o=e[n];typeof o<"u"&&o!==null&&(r[n]=String(o))}}}return r}var vr=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function k(){var e=dr(vr);return Object.assign({},Ar,e)}function mr(){return dr(vr)}var K=performance;var Rs=9,Os=6,Ps=Math.pow(10,Os),ft=Math.pow(10,Rs);function ue(e){var r=e/1e3,t=Math.trunc(r),n=Math.round(e%1e3*Ps);return[t,n]}function hr(){var e=K.timeOrigin;if(typeof e!="number"){var r=K;e=r.timing&&r.timing.fetchStart}return e}function At(e){var r=ue(hr()),t=ue(typeof e=="number"?e:K.now());return Pr(r,t)}function dt(e,r){var t=r[0]-e[0],n=r[1]-e[1];return n<0&&(t-=1,n+=ft),[t,n]}function Rr(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function Or(e){return Rr(e)||typeof e=="number"||e instanceof Date}function Pr(e,r){var t=[e[0]+r[0],e[1]+r[1]];return t[1]>=ft&&(t[1]-=ft,t[0]+=1),t}var qe;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(qe||(qe={}));var gs=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},vt=function(){function e(r){r===void 0&&(r={});var t;this._propagators=(t=r.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(function(n){return typeof n.fields=="function"?n.fields():[]}).reduce(function(n,o){return n.concat(o)},[])))}return e.prototype.inject=function(r,t,n){var o,a;try{for(var i=gs(this._propagators),s=i.next();!s.done;s=i.next()){var _=s.value;try{_.inject(r,t,n)}catch(u){l.warn("Failed to inject with "+_.constructor.name+". Err: "+u.message)}}}catch(u){o={error:u}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}},e.prototype.extract=function(r,t,n){return this._propagators.reduce(function(o,a){try{return a.extract(o,t,n)}catch(i){l.warn("Failed to extract with "+a.constructor.name+". Err: "+i.message)}return o},r)},e.prototype.fields=function(){return this._fields.slice()},e}();var mt="[_0-9a-z-*/]",Ns="[a-z]"+mt+"{0,255}",Ms="[a-z0-9]"+mt+"{0,240}@[a-z]"+mt+"{0,13}",Ls=new RegExp("^(?:"+Ns+"|"+Ms+")$"),Cs=/^[ -~]{0,255}[!-~]$/,Is=/,|=/;function go(e){return Ls.test(e)}function No(e){return Cs.test(e)&&!Is.test(e)}var Mo=32,xs=512,Lo=",",Co="=",Io=function(){function e(r){this._internalState=new Map,r&&this._parse(r)}return e.prototype.set=function(r,t){var n=this._clone();return n._internalState.has(r)&&n._internalState.delete(r),n._internalState.set(r,t),n},e.prototype.unset=function(r){var t=this._clone();return t._internalState.delete(r),t},e.prototype.get=function(r){return this._internalState.get(r)},e.prototype.serialize=function(){var r=this;return this._keys().reduce(function(t,n){return t.push(n+Co+r.get(n)),t},[]).join(Lo)},e.prototype._parse=function(r){r.length>xs||(this._internalState=r.split(Lo).reverse().reduce(function(t,n){var o=n.trim(),a=o.indexOf(Co);if(a!==-1){var i=o.slice(0,a),s=o.slice(a+1,n.length);go(i)&&No(s)&&t.set(i,s)}return t},new Map),this._internalState.size>Mo&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Mo))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var r=new e;return r._internalState=new Map(this._internalState),r},e}();var gr="traceparent",Nr="tracestate",Ds="00",ys="(?!ff)[\\da-f]{2}",bs="(?![0]{32})[\\da-f]{32}",Us="(?![0]{16})[\\da-f]{16}",ws="[\\da-f]{2}",Vs=new RegExp("^\\s?("+ys+")-("+bs+")-("+Us+")-("+ws+")(-.*)?\\s?$");function xo(e){var r=Vs.exec(e);return!r||r[1]==="00"&&r[5]?null:{traceId:r[2],spanId:r[3],traceFlags:parseInt(r[4],16)}}var ht=function(){function e(){}return e.prototype.inject=function(r,t,n){var o=M.getSpanContext(r);if(!(!o||Ae(r)||!$(o))){var a=Ds+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||y.NONE).toString(16);n.set(t,gr,a),o.traceState&&n.set(t,Nr,o.traceState.serialize())}},e.prototype.extract=function(r,t,n){var o=n.get(t,gr);if(!o)return r;var a=Array.isArray(o)?o[0]:o;if(typeof a!="string")return r;var i=xo(a);if(!i)return r;i.isRemote=!0;var s=n.get(t,Nr);if(s){var _=Array.isArray(s)?s.join(","):s;i.traceState=new Io(typeof _=="string"?_:void 0)}return M.setSpanContext(r,i)},e.prototype.fields=function(){return[gr,Nr]},e}();var Bs="[object Object]",Gs="[object Null]",Hs="[object Undefined]",Ys=Function.prototype,Do=Ys.toString,Fs=Do.call(Object),ks=Ks(Object.getPrototypeOf,Object),yo=Object.prototype,bo=yo.hasOwnProperty,ve=Symbol?Symbol.toStringTag:void 0,Uo=yo.toString;function Ks(e,r){return function(t){return e(r(t))}}function Rt(e){if(!Ws(e)||js(e)!==Bs)return!1;var r=ks(e);if(r===null)return!0;var t=bo.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Do.call(t)===Fs}function Ws(e){return e!=null&&typeof e=="object"}function js(e){return e==null?e===void 0?Hs:Gs:ve&&ve in Object(e)?Xs(e):zs(e)}function Xs(e){var r=bo.call(e,ve),t=e[ve],n=!1;try{e[ve]=void 0,n=!0}catch{}var o=Uo.call(e);return n&&(r?e[ve]=t:delete e[ve]),o}function zs(e){return Uo.call(e)}var qs=20;function Pt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=e.shift(),n=new WeakMap;e.length>0;)t=Vo(t,e.shift(),0,n);return t}function Ot(e){return Lr(e)?e.slice():e}function Vo(e,r,t,n){t===void 0&&(t=0);var o;if(!(t>qs)){if(t++,Mr(e)||Mr(r)||Bo(r))o=Ot(r);else if(Lr(e)){if(o=e.slice(),Lr(r))for(var a=0,i=r.length;a<i;a++)o.push(Ot(r[a]));else if(Qe(r))for(var s=Object.keys(r),a=0,i=s.length;a<i;a++){var _=s[a];o[_]=Ot(r[_])}}else if(Qe(e))if(Qe(r)){if(!Qs(e,r))return r;o=Object.assign({},e);for(var s=Object.keys(r),a=0,i=s.length;a<i;a++){var _=s[a],u=r[_];if(Mr(u))typeof u>"u"?delete o[_]:o[_]=u;else{var E=o[_],T=u;if(wo(e,_,n)||wo(r,_,n))delete o[_];else{if(Qe(E)&&Qe(T)){var p=n.get(E)||[],S=n.get(T)||[];p.push({obj:e,key:_}),S.push({obj:r,key:_}),n.set(E,p),n.set(T,S)}o[_]=Vo(o[_],u,t,n)}}}}else o=r;return o}}function wo(e,r,t){for(var n=t.get(e[r])||[],o=0,a=n.length;o<a;o++){var i=n[o];if(i.key===r&&i.obj===e)return!0}return!1}function Lr(e){return Array.isArray(e)}function Bo(e){return typeof e=="function"}function Qe(e){return!Mr(e)&&!Lr(e)&&!Bo(e)&&typeof e=="object"}function Mr(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function Qs(e,r){return!(!Rt(e)||!Rt(r))}var Go=function(){function e(){var r=this;this._promise=new Promise(function(t,n){r._resolve=t,r._reject=n})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(r){this._resolve(r)},e.prototype.reject=function(r){this._reject(r)},e}();var Js=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},Zs=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},gt=function(){function e(r,t){this._callback=r,this._that=t,this._isCalled=!1,this._deferred=new Go}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var r,t=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((r=this._callback).call.apply(r,Zs([this._that],Js(n),!1))).then(function(a){return t._deferred.resolve(a)},function(a){return t._deferred.reject(a)})}catch(a){this._deferred.reject(a)}}return this._deferred.promise},e}();var Ho="exception";var Nt=function(){return Nt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Nt.apply(this,arguments)},eE=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Yo=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},rE=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},Mt=function(){function e(r,t,n,o,a,i,s,_,u,E){s===void 0&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:G.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=o,this.parentSpanId=i,this.kind=a,this.links=s;var T=Date.now();this._performanceStartTime=K.now(),this._performanceOffset=T-(this._performanceStartTime+hr()),this._startTimeProvided=_!=null,this.startTime=this._getTime(_??T),this.resource=r.resource,this.instrumentationLibrary=r.instrumentationLibrary,this._spanLimits=r.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,E!=null&&this.setAttributes(E),this._spanProcessor=r.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(r,t){return t==null||this._isSpanEnded()?this:r.length===0?(l.warn("Invalid attribute key: "+r),this):fr(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,r)?(this._droppedAttributesCount++,this):(this.attributes[r]=this._truncateToSize(t),this):(l.warn("Invalid attribute value set for key: "+r),this)},e.prototype.setAttributes=function(r){var t,n;try{for(var o=eE(Object.entries(r)),a=o.next();!a.done;a=o.next()){var i=Yo(a.value,2),s=i[0],_=i[1];this.setAttribute(s,_)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(r,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return l.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&l.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Or(t)&&(Or(n)||(n=t),t=void 0);var o=de(t);return this.events.push({name:r,attributes:o,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.addLink=function(r){return this.links.push(r),this},e.prototype.addLinks=function(r){var t;return(t=this.links).push.apply(t,rE([],Yo(r),!1)),this},e.prototype.setStatus=function(r){return this._isSpanEnded()?this:(this.status=Nt({},r),this.status.message!=null&&typeof r.message!="string"&&(l.warn("Dropping invalid status.message of type '"+typeof r.message+"', expected 'string'"),delete this.status.message),this)},e.prototype.updateName=function(r){return this._isSpanEnded()?this:(this.name=r,this)},e.prototype.end=function(r){if(this._isSpanEnded()){l.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(r),this._duration=dt(this.startTime,this.endTime),this._duration[0]<0&&(l.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&l.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(r){if(typeof r=="number"&&r<=K.now())return At(r+this._performanceOffset);if(typeof r=="number")return ue(r);if(r instanceof Date)return ue(r.getTime());if(Rr(r))return r;if(this._startTimeProvided)return ue(Date.now());var t=K.now()-this._performanceStartTime;return Pr(this.startTime,ue(t))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(r,t){var n={};typeof r=="string"?n[pr]=r:r&&(r.code?n[Tr]=r.code.toString():r.name&&(n[Tr]=r.name),r.message&&(n[pr]=r.message),r.stack&&(n[bn]=r.stack)),n[Tr]||n[pr]?this.addEvent(Ho,n,t):l.warn("Failed to record an exception "+r)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&l.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(r,t){return r.length<=t?r:r.substring(0,t)},e.prototype._truncateToSize=function(r){var t=this,n=this._attributeValueLengthLimit;return n<=0?(l.warn("Attribute value limit must be positive, got "+n),r):typeof r=="string"?this._truncateToLimitUtil(r,n):Array.isArray(r)?r.map(function(o){return typeof o=="string"?t._truncateToLimitUtil(o,n):o}):r},e}();var W;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(W||(W={}));var me=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:W.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}();var ee=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:W.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}();var _e=function(){function e(r){var t,n,o,a;this._root=r.root,this._root||(Y(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ee),this._remoteParentSampled=(t=r.remoteParentSampled)!==null&&t!==void 0?t:new ee,this._remoteParentNotSampled=(n=r.remoteParentNotSampled)!==null&&n!==void 0?n:new me,this._localParentSampled=(o=r.localParentSampled)!==null&&o!==void 0?o:new ee,this._localParentNotSampled=(a=r.localParentNotSampled)!==null&&a!==void 0?a:new me}return e.prototype.shouldSample=function(r,t,n,o,a,i){var s=M.getSpanContext(r);return!s||!$(s)?this._root.shouldSample(r,t,n,o,a,i):s.isRemote?s.traceFlags&y.SAMPLED?this._remoteParentSampled.shouldSample(r,t,n,o,a,i):this._remoteParentNotSampled.shouldSample(r,t,n,o,a,i):s.traceFlags&y.SAMPLED?this._localParentSampled.shouldSample(r,t,n,o,a,i):this._localParentNotSampled.shouldSample(r,t,n,o,a,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}();var he=function(){function e(r){r===void 0&&(r=0),this._ratio=r,this._ratio=this._normalize(r),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(r,t){return{decision:ur(t)&&this._accumulate(t)<this._upperBound?W.RECORD_AND_SAMPLED:W.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(r){return typeof r!="number"||isNaN(r)?0:r>=1?1:r<=0?0:r},e.prototype._accumulate=function(r){for(var t=0,n=0;n<r.length/8;n++){var o=n*8,a=parseInt(r.slice(o,o+8),16);t=(t^a)>>>0}return t},e}();var tE=w.AlwaysOn,De=1;function Cr(){var e=k();return{sampler:Lt(e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function Lt(e){switch(e===void 0&&(e=k()),e.OTEL_TRACES_SAMPLER){case w.AlwaysOn:return new ee;case w.AlwaysOff:return new me;case w.ParentBasedAlwaysOn:return new _e({root:new ee});case w.ParentBasedAlwaysOff:return new _e({root:new me});case w.TraceIdRatio:return new he(Fo(e));case w.ParentBasedTraceIdRatio:return new _e({root:new he(Fo(e))});default:return l.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+tE+'".'),new ee}}function Fo(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return l.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+De+"."),De;var r=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(r)?(l.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+De+"."),De):r<0||r>1?(l.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+De+"."),De):r}function ko(e){var r={sampler:Lt()},t=Cr(),n=Object.assign({},t,r,e);return n.generalLimits=Object.assign({},t.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,e.spanLimits||{}),n}function Ko(e){var r,t,n,o,a,i,s,_,u,E,T,p,S=Object.assign({},e.spanLimits),c=mr();return S.attributeCountLimit=(i=(a=(o=(t=(r=e.spanLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&t!==void 0?t:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&o!==void 0?o:c.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:c.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:xe,S.attributeValueLengthLimit=(p=(T=(E=(_=(s=e.spanLimits)===null||s===void 0?void 0:s.attributeValueLengthLimit)!==null&&_!==void 0?_:(u=e.generalLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&E!==void 0?E:c.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&T!==void 0?T:c.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Ie,Object.assign({},e,{spanLimits:S})}var Wo=function(){function e(r,t){this._exporter=r,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=k();this._maxExportBatchSize=typeof t?.maxExportBatchSize=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof t?.maxQueueSize=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof t?.scheduledDelayMillis=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof t?.exportTimeoutMillis=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new gt(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(l.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(r,t){},e.prototype.onEnd=function(r){this._shutdownOnce.isCalled||(r.spanContext().traceFlags&y.SAMPLED)!==0&&this._addToBuffer(r)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var r=this;return Promise.resolve().then(function(){return r.onShutdown()}).then(function(){return r._flushAll()}).then(function(){return r._exporter.shutdown()})},e.prototype._addToBuffer=function(r){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&l.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(l.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(r),this._maybeStartTimer()},e.prototype._flushAll=function(){var r=this;return new Promise(function(t,n){for(var o=[],a=Math.ceil(r._finishedSpans.length/r._maxExportBatchSize),i=0,s=a;i<s;i++)o.push(r._flushOneBatch());Promise.all(o).then(function(){t()}).catch(n)})},e.prototype._flushOneBatch=function(){var r=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(t,n){var o=setTimeout(function(){n(new Error("Timeout"))},r._exportTimeoutMillis);x.with(ct(x.active()),function(){var a;r._finishedSpans.length<=r._maxExportBatchSize?(a=r._finishedSpans,r._finishedSpans=[]):a=r._finishedSpans.splice(0,r._maxExportBatchSize);for(var i=function(){return r._exporter.export(a,function(T){var p;clearTimeout(o),T.code===qe.SUCCESS?t():n((p=T.error)!==null&&p!==void 0?p:new Error("BatchSpanProcessor: span export failed"))})},s=null,_=0,u=a.length;_<u;_++){var E=a[_];E.resource.asyncAttributesPending&&E.resource.waitForAsyncAttributes&&(s??(s=[]),s.push(E.resource.waitForAsyncAttributes()))}s===null?i():Promise.all(s).then(i,function(T){Y(T),n(T)})})})},e.prototype._maybeStartTimer=function(){var r=this;if(!this._isExporting){var t=function(){r._isExporting=!0,r._flushOneBatch().finally(function(){r._isExporting=!1,r._finishedSpans.length>0&&(r._clearTimer(),r._maybeStartTimer())}).catch(function(n){r._isExporting=!1,Y(n)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(function(){return t()},this._scheduledDelayMillis),this._timer,void 0)}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}();var nE=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Re=function(e){nE(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.onInit(n),o}return r.prototype.onInit=function(t){var n=this;t?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&n.forceFlush().catch(function(o){Y(o)})},this._pageHideListener=function(){n.forceFlush().catch(function(o){Y(o)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},r.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},r}(Wo);var oE=8,aE=16,Je=function(){function e(){this.generateTraceId=jo(aE),this.generateSpanId=jo(oE)}return e}();var Ir=Array(32);function jo(e){return function(){for(var t=0;t<e*2;t++)Ir[t]=Math.floor(Math.random()*16)+48,Ir[t]>=58&&(Ir[t]+=39);return String.fromCharCode.apply(null,Ir.slice(0,e*2))}}var Ct=function(){function e(r,t,n){this._tracerProvider=n;var o=ko(t);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new Je,this.resource=n.resource,this.instrumentationLibrary=r}return e.prototype.startSpan=function(r,t,n){var o,a,i;t===void 0&&(t={}),n===void 0&&(n=x.active()),t.root&&(n=M.deleteSpan(n));var s=M.getSpan(n);if(Ae(n)){l.debug("Instrumentation suppressed, returning Noop Span");var _=M.wrapSpanContext(Ye);return _}var u=s?.spanContext(),E=this._idGenerator.generateSpanId(),T,p,S;!u||!M.isSpanContextValid(u)?T=this._idGenerator.generateTraceId():(T=u.traceId,p=u.traceState,S=u.spanId);var c=(o=t.kind)!==null&&o!==void 0?o:ce.INTERNAL,C=((a=t.links)!==null&&a!==void 0?a:[]).map(function(Pe){return{context:Pe.context,attributes:de(Pe.attributes)}}),F=de(t.attributes),f=this._sampler.shouldSample(n,T,r,c,F,C);p=(i=f.traceState)!==null&&i!==void 0?i:p;var A=f.decision===Ne.RECORD_AND_SAMPLED?y.SAMPLED:y.NONE,D={traceId:T,spanId:E,traceFlags:A,traceState:p};if(f.decision===Ne.NOT_RECORD){l.debug("Recording is off, propagating context in a non-recording span");var _=M.wrapSpanContext(D);return _}var Q=de(Object.assign(F,f.attributes)),Oe=new Mt(this,n,r,D,c,S,C,t.startTime,void 0,Q);return Oe},e.prototype.startActiveSpan=function(r,t,n,o){var a,i,s;if(!(arguments.length<2)){arguments.length===2?s=t:arguments.length===3?(a=t,s=n):(a=t,i=n,s=o);var _=i??x.active(),u=this.startSpan(r,a,_),E=M.setSpan(_,u);return x.with(E,s,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();var xr=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},It=function(){function e(r){this._spanProcessors=r}return e.prototype.forceFlush=function(){var r,t,n=[];try{for(var o=xr(this._spanProcessors),a=o.next();!a.done;a=o.next()){var i=a.value;n.push(i.forceFlush())}}catch(s){r={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return new Promise(function(s){Promise.all(n).then(function(){s()}).catch(function(_){Y(_||new Error("MultiSpanProcessor: forceFlush failed")),s()})})},e.prototype.onStart=function(r,t){var n,o;try{for(var a=xr(this._spanProcessors),i=a.next();!i.done;i=a.next()){var s=i.value;s.onStart(r,t)}}catch(_){n={error:_}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(r){var t,n;try{for(var o=xr(this._spanProcessors),a=o.next();!a.done;a=o.next()){var i=a.value;i.onEnd(r)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var r,t,n=[];try{for(var o=xr(this._spanProcessors),a=o.next();!a.done;a=o.next()){var i=a.value;n.push(i.shutdown())}}catch(s){r={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return new Promise(function(s,_){Promise.all(n).then(function(){s()},_)})},e}();var xt=function(){function e(){}return e.prototype.onStart=function(r,t){},e.prototype.onEnd=function(r){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}();var iE=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},sE=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},re;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(re||(re={}));var Dr=function(){function e(r){r===void 0&&(r={});var t,n;this._registeredSpanProcessors=[],this._tracers=new Map;var o=Pt({},Cr(),Ko(r));if(this.resource=(t=o.resource)!==null&&t!==void 0?t:Ce.empty(),o.mergeResourceWithDefaults&&(this.resource=Ce.default().merge(this.resource)),this._config=Object.assign({},o,{resource:this.resource}),!((n=r.spanProcessors)===null||n===void 0)&&n.length)this._registeredSpanProcessors=sE([],iE(r.spanProcessors),!1),this.activeSpanProcessor=new It(this._registeredSpanProcessors);else{var a=this._buildExporterFromEnv();if(a!==void 0){var i=new Re(a);this.activeSpanProcessor=i}else this.activeSpanProcessor=new xt}}return e.prototype.getTracer=function(r,t,n){var o=r+"@"+(t||"")+":"+(n?.schemaUrl||"");return this._tracers.has(o)||this._tracers.set(o,new Ct({name:r,version:t,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(o)},e.prototype.addSpanProcessor=function(r){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(t){return l.error("Error while trying to shutdown current span processor",t)}),this._registeredSpanProcessors.push(r),this.activeSpanProcessor=new It(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(r){r===void 0&&(r={}),M.setGlobalTracerProvider(this),r.propagator===void 0&&(r.propagator=this._buildPropagatorFromEnv()),r.contextManager&&x.setGlobalContextManager(r.contextManager),r.propagator&&le.setGlobalPropagator(r.propagator)},e.prototype.forceFlush=function(){var r=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(function(n){return new Promise(function(o){var a,i=setTimeout(function(){o(new Error("Span processor did not completed within timeout period of "+r+" ms")),a=re.timeout},r);n.forceFlush().then(function(){clearTimeout(i),a!==re.timeout&&(a=re.resolved,o(a))}).catch(function(s){clearTimeout(i),a=re.error,o(s)})})});return new Promise(function(n,o){Promise.all(t).then(function(a){var i=a.filter(function(s){return s!==re.resolved});i.length>0?o(i):n()}).catch(function(a){return o([a])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(r){var t;return(t=this.constructor._registeredPropagators.get(r))===null||t===void 0?void 0:t()},e.prototype._getSpanExporter=function(r){var t;return(t=this.constructor._registeredExporters.get(r))===null||t===void 0?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var r=this,t=Array.from(new Set(k().OTEL_PROPAGATORS)),n=t.map(function(a){var i=r._getPropagator(a);return i||l.warn('Propagator "'+a+'" requested through environment variable is unavailable.'),i}),o=n.reduce(function(a,i){return i&&a.push(i),a},[]);if(o.length!==0)return t.length===1?o[0]:new vt({propagators:o})},e.prototype._buildExporterFromEnv=function(){var r=k().OTEL_TRACES_EXPORTER;if(!(r==="none"||r==="")){var t=this._getSpanExporter(r);return t||l.error('Exporter "'+r+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new ht}],["baggage",function(){return new lt}]]),e._registeredExporters=new Map,e}();var EE=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],i;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return a},uE=function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))},Xo=function(){function e(){this._enabled=!1,this._currentContext=Z}return e.prototype._bindFunction=function(r,t){r===void 0&&(r=Z);var n=this,o=function(){for(var a=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n.with(r,function(){return t.apply(a,i)})};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),o},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(r,t){return r===void 0&&(r=this.active()),typeof t=="function"?this._bindFunction(r,t):t},e.prototype.disable=function(){return this._currentContext=Z,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=Z,this)},e.prototype.with=function(r,t,n){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var i=this._currentContext;this._currentContext=r||Z;try{return t.call.apply(t,uE([n],EE(o),!1))}finally{this._currentContext=i}},e}();var _E=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dt=function(e){_E(r,e);function r(t){t===void 0&&(t={});var n=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return n}return r.prototype.register=function(t){t===void 0&&(t={}),t.contextManager===void 0&&(t.contextManager=new Xo),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},r}(Dr);function te(e,r){return r in e}var ta=Ua(zo());var yr=!1,qo=e=>{yr=e,e&&console.log("[L9RUM Browser SDK] Debug mode is enabled")},R=(...e)=>{yr&&console.log(...e)},Qo=(...e)=>{yr&&console.warn(...e)},Te=(...e)=>{yr&&console.error(...e)};function Jo(e){return(e/1024).toFixed(2)+" kB"}function Zo(e){let r=40;return e&&e>=1&&e<=100&&(r=e),r/100}function $o(e){try{let r=new URL(e),t=r.pathname.split("/").filter(Boolean),n=t[t.length-1]||"";return n===""?r.pathname+r.search:n+r.search}catch(r){return R(r),Te("Invalid URL:",e),e}}function ea(e){if(e==="/")return"/";let r=e.replace(/\/+/g,"/");r.length>1&&r.endsWith("/")&&(r=r.replace(/\/+$/,""));let t=r.split("/"),n=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,o=/^\d+$/;return t.map(s=>n.test(s)||o.test(s)?"?":s).filter((s,_)=>s!==""||_===0).join("/")}function ra(e){let r=window.location.pathname,t=window.location.hash,n=null,o=()=>{let s=window.location.pathname,_=window.location.hash;(s!==r||_!==t)&&(r=s,t=_,n&&clearTimeout(n),n=setTimeout(()=>{e()},10))};window.addEventListener("popstate",o),window.addEventListener("hashchange",o);let a=history.pushState,i=history.replaceState;history.pushState=function(...s){let _=a.apply(this,s);return window.dispatchEvent(new Event("l9rum:navigation")),_},history.replaceState=function(...s){let _=i.apply(this,s);return window.dispatchEvent(new Event("l9rum:navigation")),_},window.addEventListener("l9rum:navigation",o)}var j=class j{constructor(r,t){if(this.client=new ta.ClientJS,j.entryPage.url||(j.entryPage=this._getEntryPageAttrs()),!j.resourceAttrs["user_agent.original"]){let{serviceName:n,deploymentEnvironment:o,appVersion:a,...i}=r.resourceAttributes||{};R(n,o,a,i),j.resourceAttrs=this._getResourceAttrs(i,t)}this.provider=this._init(r),this.provider.register()}_getResourceAttrs(r,t){let n=navigator,o=window,a=o.screen?.width?o.screen.width<768?"small":o.screen.width<1024?"medium":"large":"unknown",i={...r,"l9.sdk.version":Ve,"user_agent.original":navigator.userAgent,"browser.mobile":n.userAgentData?.mobile??this.client.isMobile(),"browser.touch_screen_enabled":"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,"browser.language":navigator.language,"browser.name":n.userAgentData?.brands?.[0]?.brand||this.client.getBrowser(),"browser.version":n.userAgentData?.brands?.[0]?.version||this.client.getBrowserMajorVersion(),"browser.platform":n.userAgentData?.platform||this.client.getOS(),"browser.brands":n.userAgentData?.brands?JSON.stringify(n.userAgentData.brands):void 0,"device.type":this.client.getDeviceType(),"network.effectiveType":navigator.connection?.effectiveType,"screen.width":o.screen?.width,"screen.height":o.screen?.height,"screen.size":a,"browser.width":o.innerWidth,"browser.height":o.innerHeight,...t?{"client.ip":t}:{},...j.entryPage};return Object.fromEntries(Object.entries(i).filter(([,s])=>s!=null&&s!==""))}_getEntryPageAttrs(){return{"entry_page.url":window.location.href,"entry_page.path":window.location.pathname,"entry_page.search":window.location.search,"entry_page.hash":window.location.hash,"entry_page.hostname":window.location.hostname,"entry_page.referrer":document.referrer}}_init(r){let{sampleRate:t,resourceAttributes:n}=r,{serviceName:o,deploymentEnvironment:a,appVersion:i,...s}=n||{},_=this._getExporter(r),u=Zo(t);return new Dt({resource:new Ce({...j.resourceAttrs,"service.name":o,"deployment.environment":a,"app.version":i,...s}),sampler:new _e({root:new he(u)}),spanProcessors:[new Re(_,{disableAutoFlushOnDocumentHide:!0,scheduledDelayMillis:nn})]})}_getOrigin(){return window.location.origin}_getClientId(){return this.client.getFingerprint().toString()}_getExporter(r){let{clientToken:t,...n}=r.headers;return new uo({url:r.endpoint,headers:{"Content-Type":"application/json","X-LAST9-API-TOKEN":`Bearer ${t}`,"X-LAST9-ORIGIN":this._getOrigin(),"Client-ID":this._getClientId(),...n}})}};j.entryPage={},j.resourceAttrs={};var bt=j,na=async e=>{let r;try{r=(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(n){R(n)}return new bt(e,r).provider};var pe=performance;var N={HTTP_URL:"http.url",HTTP_METHOD:"http.method",HTTP_USER_AGENT:"http.user_agent",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_STATUS_CODE:"http.status_code",PAGE_URL:"page.url",PAGE_HASH:"page.hash",PAGE_ROUTE:"page.route",PAGE_HOSTNAME:"page.hostname",PAGE_SEARCH:"page.search",URL_PATH:"url.path",INITIATOR_TYPE:"initiator_type",DELIVERY_TYPE:"delivery_type",SIZE:"size",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace"};var oa={responseStatus:N.HTTP_STATUS_CODE,deliveryType:N.DELIVERY_TYPE};var $e=(O=>(O.CONNECT_END="connectEnd",O.CONNECT_START="connectStart",O.DECODED_BODY_SIZE="decodedBodySize",O.DOM_COMPLETE="domComplete",O.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",O.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",O.DOM_INTERACTIVE="domInteractive",O.DOMAIN_LOOKUP_END="domainLookupEnd",O.DOMAIN_LOOKUP_START="domainLookupStart",O.ENCODED_BODY_SIZE="encodedBodySize",O.FETCH_START="fetchStart",O.LOAD_EVENT_END="loadEventEnd",O.LOAD_EVENT_START="loadEventStart",O.NAVIGATION_START="navigationStart",O.REDIRECT_END="redirectEnd",O.REDIRECT_START="redirectStart",O.REQUEST_START="requestStart",O.RESPONSE_END="responseEnd",O.RESPONSE_START="responseStart",O.SECURE_CONNECTION_START="secureConnectionStart",O.START_TIME="startTime",O.UNLOAD_EVENT_END="unloadEventEnd",O.UNLOAD_EVENT_START="unloadEventStart",O))($e||{});function L(e,r,t,n=!0){if(te(t,r)&&typeof t[r]=="number"&&!(n&&t[r]===0))return e.addEvent(r,t[r])}function Ut(e,r,t=!1,n,o){if(n===void 0&&(n=r.startTime!==0),t||(L(e,"fetchStart",r,n),L(e,"domainLookupStart",r,n),L(e,"domainLookupEnd",r,n),L(e,"connectStart",r,n),L(e,"secureConnectionStart",r,n),L(e,"connectEnd",r,n),L(e,"requestStart",r,n),L(e,"responseStart",r,n),L(e,"responseEnd",r,n)),!o){let a=r.encodedBodySize;a!==void 0&&(e.setAttribute(N.HTTP_RESPONSE_CONTENT_LENGTH,a),e.setAttribute(N.SIZE,Jo(a)));let i=r.decodedBodySize;i!==void 0&&a!==i&&e.setAttribute(N.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,i)}}var ia=()=>{let e={},r=pe.getEntriesByType?.("navigation")[0];if(r)Object.values($e).forEach(n=>{if(te(r,n)){let o=r[n];typeof o=="number"&&(e[n]=o)}});else{let n=pe.timing;n&&Object.values($e).forEach(a=>{if(te(n,a)){let i=n[a];typeof i=="number"&&(e[a]=i)}})}return e},aa={"first-paint":"firstPaint","first-contentful-paint":"firstContentfulPaint"},sa=e=>{let r=pe.getEntriesByType?.("paint");r&&r.forEach(({name:t,startTime:n})=>{te(aa,t)&&e.addEvent(aa[t],n)})};var br=class{constructor(r,t){this.currentRootSpan=void 0;this.tracer=r,this.config=t}subscribe(r){this.currentRootSpan=r,R("[L9RUM DocumentLoad] Subscribing to Document Load Instrumentation"),window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}unsubscribe(){this.currentRootSpan=void 0,window.removeEventListener("load",this._onDocumentLoaded)}_onDocumentLoaded(){window.setTimeout(()=>{this._collectPerformance()})}_addResourcesSpans(){let r=pe.getEntriesByType?.("resource");r&&r.forEach(t=>{this._initResourceSpan(t)})}_collectPerformance(){if(!this.currentRootSpan)return;let r=ia();x.with(M.setSpan(x.active(),this.currentRootSpan),()=>{let t=this._startSpan(location.href,"fetchStart",r);t&&(t.setAttribute(N.HTTP_URL,location.href),t.setAttribute(N.HTTP_METHOD,"GET"),t.setAttribute(N.HTTP_USER_AGENT,navigator.userAgent),x.with(M.setSpan(x.active(),t),()=>{this.config?.ignoreNetworkEvents||Ut(t,r)}),this._addResourcesSpans(),this.config?.ignoreNetworkEvents||(L(t,"fetchStart",r),L(t,"unloadEventStart",r),L(t,"unloadEventEnd",r),L(t,"domInteractive",r),L(t,"domContentLoadedEventStart",r),L(t,"domContentLoadedEventEnd",r),L(t,"domComplete",r),L(t,"loadEventStart",r),L(t,"loadEventEnd",r)),this.config?.ignorePerformancePaintEvents||sa(t),this._endSpan(t,"loadEventEnd",r))})}_endSpan(r,t,n){r&&(te(n,t)?r.end(n[t]):r.end())}_initResourceSpan(r){let t=this._startSpan($o(r.name),"fetchStart",r);t&&(typeof t.setStatus=="function"&&t.setStatus({code:G.OK}),t.setAttribute(N.HTTP_URL,r.name),t.setAttribute(N.INITIATOR_TYPE,r.initiatorType),this.config?.ignoreNetworkEvents||Ut(t,r),this._endSpan(t,"responseEnd",r))}_startSpan(r,t,n){if(te(n,t)&&typeof n[t]=="number"){let o=this.currentRootSpan?M.setSpan(x.active(),this.currentRootSpan):void 0,a=this.tracer.startSpan(r,{startTime:n[t]},o);return a&&(["responseStatus","deliveryType"].forEach(i=>{let s=n[i];if(s){let _=oa[i]||i;a.setAttribute(_,s)}}),R(`[L9RUM DocumentLoad] ${r} started`,JSON.stringify(n))),a}}_waitForPageLoad(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}};var Ur=class{constructor(){this.currentRootSpan=void 0;this._listenersSet=!1}subscribe(r){this.currentRootSpan=r,this._listenersSet||(this._setupGlobalListeners(),this._listenersSet=!0)}unsubscribe(){this.currentRootSpan=void 0}_buildExceptionAttributes(r){let t={};r.type&&(t[N.EXCEPTION_TYPE]=r.type),r.message&&(t[N.EXCEPTION_MESSAGE]=r.message);let n=r?.args?.length>0;if(n||r.stack){let o=n?JSON.stringify(r.args):String(r.stack);t[N.EXCEPTION_STACKTRACE]=o}return t}addErrorAttributesToSpan(r){let t=this._buildExceptionAttributes(r);Object.entries(t).forEach(([n,o])=>{this.currentRootSpan&&this.currentRootSpan.setAttribute(n,o)})}addError(r,t={},n="custom"){let o=TE(r,n),a={...o,...t,source:o.source??n,message:o.message??"Unknown error",timestamp:Date.now()};this.currentRootSpan&&(typeof this.currentRootSpan.addEvent=="function"&&this.currentRootSpan.addEvent("exception",a,a.timestamp),typeof this.currentRootSpan.setStatus=="function"&&this.currentRootSpan.setStatus({code:G.ERROR,message:a.message}),this.addErrorAttributesToSpan(a))}_setupGlobalListeners(){let r=window.console.error;if(window.console.error=(...t)=>{this.addError(t[0],{args:t},"console"),r.apply(window.console,t)},window.addEventListener("error",t=>{this.addError(t.error||t.message,{event:t},"source")}),window.addEventListener("unhandledrejection",t=>{this.addError(t.reason,{event:t},"source")}),typeof window.ReportingObserver=="function")try{new window.ReportingObserver(n=>{for(let o of n)this.addError(o,{report:o},"report")},{types:["crash","deprecation","intervention"],buffered:!0}).observe()}catch{}}};function TE(e,r){return e instanceof Error?{source:r,type:e.name,message:e.message,stack:e.stack,causes:e.causes||void 0}:typeof e=="string"?{source:r,message:e}:typeof e=="object"&&e!==null?{source:r,...e}:{source:r,message:String(e)}}var Bt;var la=-1,be=function(e){addEventListener("pageshow",function(r){r.persisted&&(la=r.timeStamp,e(r))},!0)},Gt=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Gr=function(){var e=Gt();return e&&e.activationStart||0},z=function(e,r){var t=Gt(),n="navigate";return la>=0?n="back-forward-cache":t&&(document.prerendering||Gr()>0?n="prerender":document.wasDiscarded?n="restore":t.type&&(n=t.type.replace(/_/g,"-"))),{name:e,value:r===void 0?-1:r,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},er=function(e,r,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(o){Promise.resolve().then(function(){r(o.getEntries())})});return n.observe(Object.assign({type:e,buffered:!0},t||{})),n}}catch{}},q=function(e,r,t,n){var o,a;return function(i){r.value>=0&&(i||n)&&((a=r.value-(o||0))||o===void 0)&&(o=r.value,r.delta=a,r.rating=function(s,_){return s>_[1]?"poor":s>_[0]?"needs-improvement":"good"}(r.value,t),e(r))}},Ht=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Hr=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},Yt=function(e){var r=!1;return function(){r||(e(),r=!0)}},ye=-1,Ea=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Br=function(e){document.visibilityState==="hidden"&&ye>-1&&(ye=e.type==="visibilitychange"?e.timeStamp:0,pE())},ua=function(){addEventListener("visibilitychange",Br,!0),addEventListener("prerenderingchange",Br,!0)},pE=function(){removeEventListener("visibilitychange",Br,!0),removeEventListener("prerenderingchange",Br,!0)},fa=function(){return ye<0&&(ye=Ea(),ua(),be(function(){setTimeout(function(){ye=Ea(),ua()},0)})),{get firstHiddenTime(){return ye}}},Yr=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},_a=[1800,3e3],Ft=function(e,r){r=r||{},Yr(function(){var t,n=fa(),o=z("FCP"),a=er("paint",function(i){i.forEach(function(s){s.name==="first-contentful-paint"&&(a.disconnect(),s.startTime<n.firstHiddenTime&&(o.value=Math.max(s.startTime-Gr(),0),o.entries.push(s),t(!0)))})});a&&(t=q(e,o,_a,r.reportAllChanges),be(function(i){o=z("FCP"),t=q(e,o,_a,r.reportAllChanges),Ht(function(){o.value=performance.now()-i.timeStamp,t(!0)})}))})},Ta=[.1,.25],Aa=function(e,r){r=r||{},Ft(Yt(function(){var t,n=z("CLS",0),o=0,a=[],i=function(_){_.forEach(function(u){if(!u.hadRecentInput){var E=a[0],T=a[a.length-1];o&&u.startTime-T.startTime<1e3&&u.startTime-E.startTime<5e3?(o+=u.value,a.push(u)):(o=u.value,a=[u])}}),o>n.value&&(n.value=o,n.entries=a,t())},s=er("layout-shift",i);s&&(t=q(e,n,Ta,r.reportAllChanges),Hr(function(){i(s.takeRecords()),t(!0)}),be(function(){o=0,n=z("CLS",0),t=q(e,n,Ta,r.reportAllChanges),Ht(function(){return t()})}),setTimeout(t,0))}))},da=0,wt=1/0,wr=0,SE=function(e){e.forEach(function(r){r.interactionId&&(wt=Math.min(wt,r.interactionId),wr=Math.max(wr,r.interactionId),da=wr?(wr-wt)/7+1:0)})},va=function(){return Bt?da:performance.interactionCount||0},cE=function(){"interactionCount"in performance||Bt||(Bt=er("event",SE,{type:"event",buffered:!0,durationThreshold:0}))},X=[],Vr=new Map,ma=0,lE=function(){var e=Math.min(X.length-1,Math.floor((va()-ma)/50));return X[e]},fE=[],AE=function(e){if(fE.forEach(function(o){return o(e)}),e.interactionId||e.entryType==="first-input"){var r=X[X.length-1],t=Vr.get(e.interactionId);if(t||X.length<10||e.duration>r.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Vr.set(n.id,n),X.push(n)}X.sort(function(o,a){return a.latency-o.latency}),X.length>10&&X.splice(10).forEach(function(o){return Vr.delete(o.id)})}}},ha=function(e){var r=self.requestIdleCallback||self.setTimeout,t=-1;return e=Yt(e),document.visibilityState==="hidden"?e():(t=r(e),Hr(e)),t},pa=[200,500],Ra=function(e,r){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(r=r||{},Yr(function(){var t;cE();var n,o=z("INP"),a=function(s){ha(function(){s.forEach(AE);var _=lE();_&&_.latency!==o.value&&(o.value=_.latency,o.entries=_.entries,n())})},i=er("event",a,{durationThreshold:(t=r.durationThreshold)!==null&&t!==void 0?t:40});n=q(e,o,pa,r.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Hr(function(){a(i.takeRecords()),n(!0)}),be(function(){ma=va(),X.length=0,Vr.clear(),o=z("INP"),n=q(e,o,pa,r.reportAllChanges)}))}))},Sa=[2500,4e3],Vt={},Oa=function(e,r){r=r||{},Yr(function(){var t,n=fa(),o=z("LCP"),a=function(_){r.reportAllChanges||(_=_.slice(-1)),_.forEach(function(u){u.startTime<n.firstHiddenTime&&(o.value=Math.max(u.startTime-Gr(),0),o.entries=[u],t())})},i=er("largest-contentful-paint",a);if(i){t=q(e,o,Sa,r.reportAllChanges);var s=Yt(function(){Vt[o.id]||(a(i.takeRecords()),i.disconnect(),Vt[o.id]=!0,t(!0))});["keydown","click"].forEach(function(_){addEventListener(_,function(){return ha(s)},{once:!0,capture:!0})}),Hr(s),be(function(_){o=z("LCP"),t=q(e,o,Sa,r.reportAllChanges),Ht(function(){o.value=performance.now()-_.timeStamp,Vt[o.id]=!0,t(!0)})})}})},ca=[800,1800],dE=function e(r){document.prerendering?Yr(function(){return e(r)}):document.readyState!=="complete"?addEventListener("load",function(){return e(r)},!0):setTimeout(r,0)},Pa=function(e,r){r=r||{};var t=z("TTFB"),n=q(e,t,ca,r.reportAllChanges);dE(function(){var o=Gt();o&&(t.value=Math.max(o.responseStart-Gr(),0),t.entries=[o],n(!0),be(function(){t=z("TTFB",0),(n=q(e,t,ca,r.reportAllChanges))(!0)}))})};var Fr=class{constructor(){this.currentRootSpan=void 0;this.clsReported=!1;this._setMetricAttributes=r=>{if(this.currentRootSpan){let t=Math.floor(Date.now()/1e3),n=this._getSpanAttributes(r,t);Object.entries(n).forEach(([o,a])=>{this.currentRootSpan.setAttribute(o,a)}),r.name==="CLS"?(this.clsReported=!0,R("[L9RUM WebVitals] CLS metric reported and added to span",r)):R("[L9RUM WebVitals] Metric added to queue",r)}else Te("[L9RUM WebVitals] Root span not found")}}subscribe(r){this.currentRootSpan=r,this.clsReported=!1,R("[L9RUM WebVitals] Subscribing to Web Vitals metrics"),Aa(this._setMetricAttributes,{reportAllChanges:!1}),Ft(this._setMetricAttributes),Ra(this._setMetricAttributes,{reportAllChanges:!1}),Oa(this._setMetricAttributes,{reportAllChanges:!1}),Pa(this._setMetricAttributes)}unsubscribe(){this.currentRootSpan=void 0}isCLSReported(){return this.clsReported}_getSpanAttributes(r,t){let o=`web_vital.${r.name.toLowerCase()}`,i={...{"web_vital.navigation_type":r.navigationType},[`${o}.id`]:r.id,[`${o}.value`]:r.value,[`${o}.timestamp`]:t,[`${o}.rating`]:r.rating,[`${o}.delta`]:r.delta};if(r.entries&&r.entries.length>0&&(i[`${o}.entries_count`]=r.entries.length,r.name==="TTFB"&&r.entries[0])){let _=r.entries[0];i[`${o}.start_time`]=_.startTime,i[`${o}.duration`]=_.duration,i[`${o}.fetch_start`]=_.fetchStart,i[`${o}.response_start`]=_.responseStart,i[`${o}.request_start`]=_.requestStart}let s=r;if(s.attribution&&r.name==="TTFB"){let _=s.attribution;i[`${o}.waiting_duration`]=_.waitingDuration,i[`${o}.dns_duration`]=_.dnsDuration,i[`${o}.connection_duration`]=_.connectionDuration,i[`${o}.request_duration`]=_.requestDuration}return i}};var kr=class{constructor(r,t){this.flushTimerId=null;this._initEvents=()=>{this._initAutoFlushInterval(),this._initNavigationEvents(),this._initDocumentEvents()};this._initDocumentEvents=()=>{typeof document<"u"&&(this._visibilityChangeListener=async()=>{if(document.visibilityState==="hidden"){R("[L9RUM View] Document hidden, waiting for CLS before ending root span"),await this._waitForCLSAndEndSpan();try{await this.provider.forceFlush(),R("[L9RUM View] Tracer provider flushed (visibility change)")}catch(r){Te("[L9RUM View] Error flushing tracer provider (visibility change)",r)}}},this._pageHideListener=async()=>{R("[L9RUM View] Page hidden, waiting for CLS before ending root span"),await this._waitForCLSAndEndSpan();try{await this.provider.forceFlush(),R("[L9RUM View] Tracer provider flushed (page hide)")}catch(r){Te("[L9RUM View] Error flushing tracer provider (page hide)",r)}},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))};this._initNavigationEvents=()=>{ra(async()=>{R("[L9RUM View] Navigation detected, ending previous root span and starting new root span"),await this._endRootSpan(),this._startRootSpan()})};this._initAutoFlushInterval=()=>{let{flushIntervalMs:r=on}=this.config;this._clearFlushInterval(),this.flushTimerId=setInterval(async()=>{R("[L9RUM View] Flush Interval, ending root span and flushing"),await this._endRootSpan();try{await this.provider.forceFlush(),R("[L9RUM View] Tracer provider flushed (interval)")}catch(t){Te("[L9RUM View] Error flushing tracer provider (interval)",t)}},r)};this.provider=r,this.tracer=r.getTracer("web-tracer",rn),this.config=t,this.webVitals=new Fr,this.errorCollector=new Ur,this.initializeInstruments()}init(){R("[L9RUM View] Initializing root span management"),this._startRootSpan(),this._initEvents()}initializeInstruments(){let{trackDocumentLoad:r,ignoreNetworkEvents:t,ignorePerformancePaintEvents:n}=this.config;(r??!1)&&(this.documentLoad=new br(this.tracer,{ignoreNetworkEvents:t,ignorePerformancePaintEvents:n}))}_startRootSpan(){this.webVitals.unsubscribe(),this.errorCollector.unsubscribe();let r=this._getRootSpanAttributes();this.currentRootSpan=this.tracer.startSpan(tn,{kind:ce.INTERNAL,attributes:r}),R("[L9RUM View] Started root span",r),this.currentRootSpan&&(typeof this.currentRootSpan.setStatus=="function"&&this.currentRootSpan.setStatus({code:G.OK}),this.webVitals.subscribe(this.currentRootSpan),this.errorCollector.subscribe(this.currentRootSpan),this.documentLoad?.subscribe(this.currentRootSpan))}async _waitForCLSAndEndSpan(){let t=Date.now();for(;!this.webVitals.isCLSReported()&&Date.now()-t<1e3;)await new Promise(n=>setTimeout(n,50));this.webVitals.isCLSReported()?R("[L9RUM View] CLS reported, proceeding to end root span"):R("[L9RUM View] CLS not reported within timeout, ending root span anyway"),await this._endRootSpan()}async _endRootSpan(){this.currentRootSpan&&(R("[L9RUM View] Ending root span"),this.currentRootSpan.end(),this.webVitals.unsubscribe(),this.errorCollector.unsubscribe(),this.currentRootSpan=void 0,this._clearFlushInterval())}_clearFlushInterval(){this.flushTimerId&&(clearInterval(this.flushTimerId),this.flushTimerId=null)}_getRootSpanAttributes(){let r=window.location;return{origin:r.origin,path:ea(r.pathname),[N.PAGE_URL]:r.href,[N.PAGE_HASH]:r.hash,[N.PAGE_ROUTE]:r.pathname,[N.PAGE_HOSTNAME]:r.hostname,[N.PAGE_SEARCH]:r.search,[N.URL_PATH]:r.pathname}}onShutdown(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var Kr=class{constructor(){this.isInited=!1;this.isInited=!1}async init(r){let{debug:t,headers:n,endpoint:o,resourceAttributes:a,sampleRate:i,...s}=r,_={headers:n,endpoint:o,resourceAttributes:a,sampleRate:i};if(qo(!!t),this.isInited)return Qo("[L9RUM Browser SDK] is already inited"),!1;this.isInited=!0;let u=await na(_);new kr(u,s).init(),R(`[L9RUM Browser SDK] Initialized successfully (v${Ve})`)}};var ga=new Kr;window.L9RUM=ga;var Rf=ga;})();
//# sourceMappingURL=l9.umd.js.map
